{
  "id": "context-delta",
  "name": "context-delta",
  "version": "1.0.0",
  "description": "The Reflexive phase of ADIR reasoning. Audits the frame itself after Abductive-Deductive-Inductive analysis, producing a Context Delta that captures what to keep, discard, add, reweight, test next, and guard against.",
  "phase": "VALIDATE",
  "category": "operations",
  "content": "# Context Delta\n\nProduce the Reflexive output of ADIR reasoning.\n\n## When to Use\n\n- **After retrospective** — Distill learnings into actionable deltas\n- **After calibration** — Formalize belief updates\n- **After pattern detection** — Decide what patterns to keep or discard\n- **At learning-loop completion** — Produce improvement proposals\n\n## Core Concept\n\nContext Delta answers: **\"What changed in our understanding, and what should we do about it?\"**\n\nThis is the **R** in ADIR:\n\n```\nA (Abductive)  → retrospective generates hypotheses from observations\nD (Deductive)  → skill-verifier derives testable predictions\nI (Inductive)  → calibration-tracker updates beliefs from results\nR (Reflexive)  → context-delta audits the frame & produces delta\n```\n\n## Context Delta Structure\n\n```json\n{\n  \"timestamp\": \"ISO-8601\",\n  \"source\": \"learning-loop execution ID\",\n  \"delta\": {\n    \"keep\": [\n      \"Patterns and beliefs that survived testing\"\n    ],\n    \"discard\": [\n      \"Assumptions invalidated by evidence\"\n    ],\n    \"add\": [\n      \"Newly discovered constraints or opportunities\"\n    ],\n    \"reweight\": {\n      \"belief-id\": { \"from\": 0.5, \"to\": 0.8, \"evidence\": \"...\" }\n    },\n    \"next_tests\": [\n      \"1-3 highest-leverage experiments to run\"\n    ],\n    \"guardrails\": [\n      \"Failure modes to avoid going forward\"\n    ]\n  }\n}\n```\n\n## Required Deliverables\n\n| Deliverable | Location | Condition |\n|-------------|----------|-----------|\n| `CONTEXT-DELTA.md` | Working directory | Always |\n| `context-delta.json` | `memory/deltas/` | Always (append to history) |\n\n## The Reflexive Process\n\n```\n┌─────────────────────────────────────────────────────────────────────────────┐\n│                      REFLEXIVE PROCESS (ADIR Phase R)                        │\n├─────────────────────────────────────────────────────────────────────────────┤\n│                                                                             │\n│  INPUTS (from A-D-I phases)                                                 │\n│  ──────────────────────────                                                 │\n│                                                                             │\n│  From retrospective (A):                                                    │\n│    • Observations about what happened                                       │\n│    • Hypotheses about why                                                   │\n│    • Initial improvement ideas                                              │\n│                                                                             │\n│  From skill-verifier (D):                                                   │\n│    • Predictions tested against reality                                     │\n│    • Skill gaps identified                                                  │\n│    • Verification results                                                   │\n│                                                                             │\n│  From calibration-tracker (I):                                              │\n│    • Estimate accuracy data                                                 │\n│    • Updated multipliers                                                    │\n│    • Confidence levels                                                      │\n│                                                                             │\n│  REFLEXIVE ANALYSIS                                                         │\n│  ──────────────────────                                                     │\n│                                                                             │\n│  1. AUDIT THE FRAME                                                         │\n│     └─→ What assumptions were we operating under?                           │\n│     └─→ Which assumptions were validated?                                   │\n│     └─→ Which assumptions were invalidated?                                 │\n│                                                                             │\n│  2. CLASSIFY LEARNINGS                                                      │\n│     └─→ Keep: Stable truths that held up                                    │\n│     └─→ Discard: Beliefs proven wrong                                       │\n│     └─→ Add: New knowledge discovered                                       │\n│     └─→ Reweight: Beliefs that need confidence adjustment                   │\n│                                                                             │\n│  3. PROJECT FORWARD                                                         │\n│     └─→ Next tests: What experiments would resolve remaining uncertainty?   │\n│     └─→ Guardrails: What failure modes should we avoid?                     │\n│                                                                             │\n│  OUTPUT                                                                     │\n│  ──────                                                                     │\n│                                                                             │\n│  CONTEXT-DELTA.md + context-delta.json                                      │\n│                                                                             │\n└─────────────────────────────────────────────────────────────────────────────┘\n```\n\n## Delta Categories\n\n### Keep\nPatterns, beliefs, or approaches that **survived testing**:\n- Skill that performed well\n- Estimate approach that was accurate\n- Pattern that consistently worked\n\n**Evidence required:** Must cite specific validation (test passed, estimate within 20%, pattern succeeded N times)\n\n### Discard\nAssumptions **invalidated by evidence**:\n- Skill that consistently failed\n- Estimate bias identified\n- Pattern that didn't hold\n\n**Evidence required:** Must cite specific failure (test failed, estimate off by >50%, pattern broke N times)\n\n### Add\n**Newly discovered** constraints or opportunities:\n- New pattern observed\n- New failure mode identified\n- New capability needed\n\n**Evidence required:** Must cite observation source (run archive, verification, user feedback)\n\n### Reweight\nBeliefs that need **confidence adjustment**:\n- Increased confidence after validation\n- Decreased confidence after partial failure\n- Uncertainty resolved or introduced\n\n**Format:**\n```json\n{\n  \"agentic-speed-multiplier\": {\n    \"from\": 0.3,\n    \"to\": 0.25,\n    \"evidence\": \"3 more runs confirmed faster execution\"\n  }\n}\n```\n\n### Next Tests\n**1-3 highest-leverage experiments** that would resolve remaining uncertainty:\n- Should be specific and actionable\n- Should target the biggest unknowns\n- Should be feasible in near-term\n\n**Format:** Each test should specify what we're testing and how we'd know if it worked.\n\n### Guardrails\n**Failure modes to avoid** going forward:\n- Anti-patterns observed\n- Edge cases that broke things\n- Constraints that must be respected\n\n**Format:** Each guardrail should specify the failure mode and the constraint that prevents it.\n\n## Example Context Delta\n\n```markdown\n## Context Delta: Learning Loop Run 2026-02-04\n\n### Keep\n- **Agentic execution multiplier (0.3x)** — Validated across 5 runs, consistent results\n- **PAT-004 terrain-check** — Correctly identified uphill moments in 8/10 cases\n- **Guarantee validation at gates** — Caught 3 issues that would have shipped broken\n\n### Discard\n- **\"Documentation phase is always fast\"** — Took 2x estimated in 3/5 runs\n- **\"Brownfield is just greenfield with constraints\"** — Requires fundamentally different approach\n\n### Add\n- **New pattern: Phase-skip detection** — When VERIFY has no tests, skip to VALIDATE\n- **New constraint: Max 3 skills per phase** — More than 3 causes cognitive overload\n- **New opportunity: Parallel skill execution** — Would speed up IMPLEMENT phase 40%\n\n### Reweight\n| Belief | From | To | Evidence |\n|--------|------|-----|----------|\n| Documentation time estimate | 1.0x | 1.5x | 3 runs showed consistent overrun |\n| Test generation accuracy | 0.7 | 0.85 | Improved after skill update |\n| Gate approval time | 5min | 2min | Auto-gates working well |\n\n### Next Tests\n1. **Parallel skills in IMPLEMENT** — Try running implement + test-generation concurrently\n2. **Brownfield-specific loop** — Test abbreviated phase sequence for existing codebases\n3. **Voice status updates** — Test comprehension while mobile (jogging)\n\n### Guardrails\n- **Never skip VERIFY for greenfield** — Caught critical bugs in 2 runs\n- **Don't auto-approve human gates** — User review caught design issues\n- **Limit autonomous runs to 2 hours** — Longer runs drift from intent\n```\n\n## Integration with Dreaming (Passive Mode)\n\nIn **active mode** (learning-loop), context-delta runs explicitly after A-D-I phases.\n\nIn **passive mode** (dreaming), the same Context Delta structure is produced automatically:\n- Dreaming runs ADIR cycle on execution history\n- Context Deltas accumulate as \"dream proposals\"\n- User reviews deltas when returning from idle\n\n## Mode-Specific Behavior\n\n### Active Mode (Learning Loop)\n- Runs after retrospective, skill-verifier, calibration-tracker\n- Requires human review of delta before applying\n- Changes are applied immediately after approval\n\n### Passive Mode (Dreaming - Future)\n- Runs automatically during idle periods\n- Accumulates deltas for batch review\n- Changes queued until user returns\n\n## Verification Checklist\n\n```markdown\n## context-delta Verification\n\n### Inputs Gathered\n- [ ] Retrospective findings reviewed\n- [ ] Skill verification results incorporated\n- [ ] Calibration data considered\n\n### Delta Categories Complete\n- [ ] Keep: Items have validation evidence\n- [ ] Discard: Items have invalidation evidence\n- [ ] Add: Items have observation source\n- [ ] Reweight: Items have before/after/evidence\n- [ ] Next tests: 1-3 specific experiments identified\n- [ ] Guardrails: Failure modes and constraints specified\n\n### Outputs Created\n- [ ] CONTEXT-DELTA.md in working directory\n- [ ] context-delta.json appended to memory/deltas/\n```\n\n## Anti-Patterns\n\n| Anti-Pattern | Problem | Fix |\n|--------------|---------|-----|\n| Running only A-D-I without R | Conclusions but no meta-learning | Always complete the cycle |\n| Skipping to R without A-D-I | Opinions without evidence | Ensure inputs are gathered |\n| Keeping everything | No pruning of bad beliefs | Be willing to discard |\n| Discarding without evidence | Premature optimization | Require failure evidence |\n| Vague next_tests | \"Test more things\" | Specify concrete experiments |\n| Generic guardrails | \"Be careful\" | Specify exact failure modes |\n\n---\n\n> The Reflexive phase is what turns experience into wisdom.\n> Without it, you have data. With it, you have learning.",
  "references": [],
  "tags": [
    "meta",
    "adir",
    "reflexive",
    "learning",
    "improvement"
  ],
  "dependsOn": [
    "retrospective",
    "skill-verifier",
    "calibration-tracker"
  ]
}
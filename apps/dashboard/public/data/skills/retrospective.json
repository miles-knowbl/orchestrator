{
  "id": "retrospective",
  "name": "retrospective",
  "version": "1.0.0",
  "description": "Analyzes completed journeys to extract learning and propose improvements. Identifies what worked, what didn't, and why. Generates skill amendment proposals, calibration adjustments, and pattern candidates. Feeds improvements back into the skills library to make future journeys more effective.",
  "phase": "COMPLETE",
  "category": "operations",
  "content": "# Retrospective\n\nLearn from completed journeys.\n\n## When to Use\n\n- **After system completion** â€” Analyze the full journey\n- **After significant milestone** â€” Mid-journey learning\n- **After failure** â€” Understand what went wrong\n- **Periodically** â€” Aggregate learning across domains\n\n## Reference Requirements\n\n**MUST read before applying this skill:**\n\n| Reference | Why Required |\n|-----------|--------------|\n| `retrospective-templates.md` | Templates for retrospective documents |\n| `root-cause-analysis.md` | 5 Whys methodology |\n\n**Read if applicable:**\n\n| Reference | When Needed |\n|-----------|-------------|\n| `amendment-process.md` | When proposing skill changes |\n\n**Verification:** Ensure RETROSPECTIVE.md is produced with root causes identified.\n\n## Required Deliverables\n\n| Deliverable | Location | Condition |\n|-------------|----------|-----------|\n| `RETROSPECTIVE.md` | Project root | Always |\n\n## Core Concept\n\nRetrospective answers: **\"What should we do differently next time?\"**\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                         RETROSPECTIVE                                        â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                                             â”‚\nâ”‚  INPUT                              OUTPUT                                  â”‚\nâ”‚  â”€â”€â”€â”€â”€                              â”€â”€â”€â”€â”€â”€                                  â”‚\nâ”‚                                                                             â”‚\nâ”‚  Journey Data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ What worked well                       â”‚\nâ”‚  Verification Results â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ What didn't work                       â”‚\nâ”‚  Metrics â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Why (root causes)                      â”‚\nâ”‚  Team Feedback â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Skill amendments                       â”‚\nâ”‚                                      Calibration adjustments                â”‚\nâ”‚                                      New patterns                           â”‚\nâ”‚                                      Process changes                        â”‚\nâ”‚                                                                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## The Retrospective Process\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                      RETROSPECTIVE PROCESS                                   â”‚\nâ”‚                                                                             â”‚\nâ”‚  1. GATHER DATA                                                             â”‚\nâ”‚     â””â”€â†’ Load journey summary (from journey-tracer)                          â”‚\nâ”‚     â””â”€â†’ Load verification results                                           â”‚\nâ”‚     â””â”€â†’ Load metrics (estimate vs actual)                                   â”‚\nâ”‚     â””â”€â†’ Collect any human feedback                                          â”‚\nâ”‚                                                                             â”‚\nâ”‚  2. ANALYZE WHAT WORKED                                                     â”‚\nâ”‚     â””â”€â†’ Skills with good verification                                       â”‚\nâ”‚     â””â”€â†’ Estimates that were accurate                                        â”‚\nâ”‚     â””â”€â†’ Patterns that succeeded                                             â”‚\nâ”‚     â””â”€â†’ References that provided value                                      â”‚\nâ”‚                                                                             â”‚\nâ”‚  3. ANALYZE WHAT DIDN'T WORK                                                â”‚\nâ”‚     â””â”€â†’ Skills with partial/failed verification                             â”‚\nâ”‚     â””â”€â†’ Estimates that were off                                             â”‚\nâ”‚     â””â”€â†’ Gaps in skill application                                           â”‚\nâ”‚     â””â”€â†’ References that were skipped                                        â”‚\nâ”‚                                                                             â”‚\nâ”‚  4. ROOT CAUSE ANALYSIS                                                     â”‚\nâ”‚     â””â”€â†’ Why did things work/not work?                                       â”‚\nâ”‚     â””â”€â†’ 5 Whys for significant issues                                       â”‚\nâ”‚     â””â”€â†’ Contributing factors                                                â”‚\nâ”‚                                                                             â”‚\nâ”‚  5. GENERATE IMPROVEMENTS                                                   â”‚\nâ”‚     â””â”€â†’ Skill amendment proposals                                           â”‚\nâ”‚     â””â”€â†’ Calibration adjustments                                             â”‚\nâ”‚     â””â”€â†’ New pattern candidates                                              â”‚\nâ”‚     â””â”€â†’ Process change recommendations                                      â”‚\nâ”‚                                                                             â”‚\nâ”‚  6. PRIORITIZE                                                              â”‚\nâ”‚     â””â”€â†’ Impact vs effort                                                    â”‚\nâ”‚     â””â”€â†’ Frequency of issue                                                  â”‚\nâ”‚     â””â”€â†’ Risk of not addressing                                              â”‚\nâ”‚                                                                             â”‚\nâ”‚  7. DOCUMENT & INTEGRATE                                                    â”‚\nâ”‚     â””â”€â†’ Produce RETROSPECTIVE.md                                            â”‚\nâ”‚     â””â”€â†’ Create amendment PRs                                                â”‚\nâ”‚     â””â”€â†’ Update calibration data                                             â”‚\nâ”‚     â””â”€â†’ Archive patterns                                                    â”‚\nâ”‚                                                                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Retrospective Document (RETROSPECTIVE.md)\n\n### Template\n\n```markdown\n# Retrospective: [System Name]\n\n**Domain:** [Domain Name]\n**Date:** [Date]\n**Journey Duration:** [X hours]\n**Facilitator:** [Agent/Human]\n\n---\n\n## Summary\n\n| Metric | Value |\n|--------|-------|\n| Skills Applied | [N] |\n| Verification Pass Rate | [X%] |\n| Estimation Accuracy | [X%] |\n| Reference Utilization | [X%] |\n| Rework Cycles | [N] |\n\n**One-line summary:** [What happened in this journey]\n\n---\n\n## What Worked Well\n\n### Skills\n| Skill | Why It Worked | Pattern to Keep |\n|-------|---------------|-----------------|\n| | | |\n\n### Processes\n| Process | Outcome | Keep Because |\n|---------|---------|--------------|\n| | | |\n\n### References\n| Reference | Value Provided | Usage Rate |\n|-----------|----------------|------------|\n| | | |\n\n---\n\n## What Didn't Work\n\n### Skills\n| Skill | Issue | Impact | Frequency |\n|-------|-------|--------|-----------|\n| | | | |\n\n### Gaps\n| Gap | Where | Impact |\n|-----|-------|--------|\n| | | |\n\n### Skipped Steps\n| Skill | Step Skipped | Why | Impact |\n|-------|--------------|-----|--------|\n| | | | |\n\n---\n\n## Root Cause Analysis\n\n### Issue 1: [Issue Title]\n\n**Symptom:** [What was observed]\n\n**5 Whys:**\n1. Why? [First level]\n2. Why? [Second level]\n3. Why? [Third level]\n4. Why? [Fourth level]\n5. Why? [Root cause]\n\n**Contributing Factors:**\n- [Factor 1]\n- [Factor 2]\n\n**Category:** [Skill gap | Process gap | Knowledge gap | Tool gap]\n\n---\n\n### Issue 2: [Issue Title]\n\n[Repeat analysis...]\n\n---\n\n## Improvement Proposals\n\n### Skill Amendments\n\n| Skill | Amendment | Rationale | Priority |\n|-------|-----------|-----------|----------|\n| architecture-review | Require ARCHITECTURE-REVIEW.md deliverable | Skill was skipped without explicit artifact | P0 |\n| spec | Add non-web system guidance | Template assumes web app | P1 |\n| test-generation | Add minimum coverage requirement | Easy to skip integration tests | P1 |\n| entry-portal | Make GitHub publish optional | Not all projects use GitHub | P2 |\n\n#### Amendment Detail: [Skill Name]\n\n**Current State:**\n[What the skill currently says/does]\n\n**Proposed Change:**\n[What should be added/modified]\n\n**Rationale:**\n[Why this change improves outcomes]\n\n**Implementation:**\n- [ ] Update SKILL.md section [X]\n- [ ] Add reference document [Y]\n- [ ] Update verification checklist\n\n---\n\n### Calibration Adjustments\n\n| Category | Previous Multiplier | New Multiplier | Based On |\n|----------|---------------------|----------------|----------|\n| MCP Server | N/A | 0.3x | This journey (26h estimated, 4.5h actual) |\n| TypeScript | 1.0x | 0.8x | [Evidence] |\n\n**Note:** These are per-domain calibrations. Cross-domain patterns require more data.\n\n---\n\n### New Patterns Identified\n\n| Pattern | Context | Template Candidate? |\n|---------|---------|---------------------|\n| Service + Tool architecture for MCP | MCP servers | Yes |\n| Layered validation (Schema â†’ Service â†’ Tool) | Data-heavy systems | Yes |\n\n#### Pattern Detail: [Pattern Name]\n\n**Context:** [When this pattern applies]\n\n**Solution:** [What the pattern is]\n\n**Example:** [Brief example from this journey]\n\n**Codify as:** [Reference doc | Template | Skill section]\n\n---\n\n### Process Changes\n\n| Change | Current | Proposed | Benefit |\n|--------|---------|----------|---------|\n| Reference check | Optional | Required before skill | Higher quality |\n| Build verification | Optional | Required in scaffold | Catch errors early |\n\n---\n\n## Action Items\n\n### Immediate (This Session)\n\n| Action | Owner | Status |\n|--------|-------|--------|\n| Create skill amendment for architecture-review | Agent | [ ] |\n| Update calibration data | Agent | [ ] |\n| Archive service-tool pattern | Agent | [ ] |\n\n### Next Journey\n\n| Action | When | Verification |\n|--------|------|--------------|\n| Read all required references | Before each skill | Check in journey log |\n| Create ADRs for decisions | During architect | Check in verification |\n| Run build after scaffold | After scaffold | Check in verification |\n\n### Backlog\n\n| Action | Priority | Effort |\n|--------|----------|--------|\n| Add MCP project template | P2 | Medium |\n| Multi-language support for implement | P3 | High |\n\n---\n\n## Learning Integration\n\n### Exported to Calibration Tracker\n- [ ] Estimate vs actual: 26h â†’ 4.5h\n- [ ] Skill-level timing data\n\n### Pattern Candidates for Extraction\n- [ ] Service-tool MCP architecture\n- [ ] Layered validation pattern\n\n### Skill Amendments Queued\n- [ ] architecture-review: require deliverable\n- [ ] spec: non-web guidance\n- [ ] test-generation: minimum coverage\n\n---\n\n## Retrospective Meta\n\n**What worked about this retrospective:**\n- [Observation]\n\n**What could improve:**\n- [Observation]\n\n---\n\n*Retrospective completed by retrospective skill*\n```\n\n## Learning Data Management\n\n### Per-Domain Learning\n\nEach domain maintains its own learning data:\n\n```\ndomain-memory/{domain}/\nâ”œâ”€â”€ learning/\nâ”‚   â”œâ”€â”€ retrospectives/\nâ”‚   â”‚   â”œâ”€â”€ 2025-01-17-system-1.md\nâ”‚   â”‚   â””â”€â”€ 2025-01-20-system-2.md\nâ”‚   â”œâ”€â”€ calibration.json\nâ”‚   â””â”€â”€ patterns.json\n```\n\n### Calibration Data Format\n\n```json\n{\n  \"domain\": \"skills-library-mcp\",\n  \"estimates\": [\n    {\n      \"system\": \"Skills Library MCP\",\n      \"date\": \"2025-01-17\",\n      \"estimated\": {\n        \"hours\": 26,\n        \"complexity\": \"M\",\n        \"confidence\": \"high\"\n      },\n      \"actual\": {\n        \"hours\": 4.5,\n        \"complexity\": \"M\"\n      },\n      \"ratio\": 0.17,\n      \"notes\": \"Agentic execution much faster than estimated\"\n    }\n  ],\n  \"adjustments\": {\n    \"agenticMultiplier\": 0.3,\n    \"complexityFactors\": {\n      \"mcp\": 0.8,\n      \"typescript\": 0.9\n    }\n  }\n}\n```\n\n### Pattern Archive Format\n\n```json\n{\n  \"domain\": \"skills-library-mcp\",\n  \"patterns\": [\n    {\n      \"name\": \"Service-Tool MCP Architecture\",\n      \"context\": \"Building MCP servers with multiple tools\",\n      \"solution\": \"Layer: Tools â†’ Services â†’ FileService â†’ Filesystem\",\n      \"example\": \"skills-library-mcp\",\n      \"confidence\": \"medium\",\n      \"uses\": 1,\n      \"templateCandidate\": true\n    }\n  ]\n}\n```\n\n## Improvement Lifecycle\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                      IMPROVEMENT LIFECYCLE                                   â”‚\nâ”‚                                                                             â”‚\nâ”‚  1. IDENTIFY (Retrospective)                                                â”‚\nâ”‚     â””â”€â†’ Gap or issue discovered                                             â”‚\nâ”‚     â””â”€â†’ Documented in retrospective                                         â”‚\nâ”‚                                                                             â”‚\nâ”‚  2. PROPOSE (Amendment)                                                     â”‚\nâ”‚     â””â”€â†’ Specific change proposed                                            â”‚\nâ”‚     â””â”€â†’ Rationale documented                                                â”‚\nâ”‚     â””â”€â†’ Priority assigned                                                   â”‚\nâ”‚                                                                             â”‚\nâ”‚  3. REVIEW                                                                  â”‚\nâ”‚     â””â”€â†’ Human reviews proposal                                              â”‚\nâ”‚     â””â”€â†’ Approve / Modify / Reject                                           â”‚\nâ”‚                                                                             â”‚\nâ”‚  4. IMPLEMENT                                                               â”‚\nâ”‚     â””â”€â†’ Update skill SKILL.md                                               â”‚\nâ”‚     â””â”€â†’ Update references if needed                                         â”‚\nâ”‚     â””â”€â†’ Update verification checklist                                       â”‚\nâ”‚                                                                             â”‚\nâ”‚  5. VERIFY                                                                  â”‚\nâ”‚     â””â”€â†’ Next journey uses updated skill                                     â”‚\nâ”‚     â””â”€â†’ Check if improvement achieved                                       â”‚\nâ”‚     â””â”€â†’ Adjust if needed                                                    â”‚\nâ”‚                                                                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Anti-Patterns\n\n### What NOT to do\n\n| Anti-Pattern | Problem | Instead |\n|--------------|---------|---------|\n| Change everything | Introduces instability | Small, targeted changes |\n| Skip root cause | Treats symptoms | Always do 5 Whys |\n| No verification | Don't know if it worked | Plan verification in next journey |\n| Over-optimize | Diminishing returns | Focus on high-impact issues |\n| Blame | Not constructive | Focus on process, not individuals |\n\n## Integration with Other Skills\n\n| Skill | Integration |\n|-------|-------------|\n| journey-tracer | Provides input data |\n| calibration-tracker | Receives calibration adjustments |\n| skill-verifier | Uses updated verification criteria |\n| loop-controller | Uses updated process recommendations |\n\n## Retrospective Verification Checklist\n\n```markdown\n## retrospective Verification\n\n### Process\n- [ ] Journey data gathered\n- [ ] What worked analyzed\n- [ ] What didn't work analyzed\n- [ ] Root cause analysis for major issues\n- [ ] Improvement proposals generated\n- [ ] Priorities assigned\n- [ ] Action items identified\n\n### Deliverables\n- [ ] RETROSPECTIVE.md exists\n- [ ] All sections complete\n- [ ] Improvements are actionable\n- [ ] Calibration data updated\n\n### Quality\n- [ ] Root causes identified (not symptoms)\n- [ ] Improvements are specific\n- [ ] Priorities are justified\n- [ ] Integration points documented\n```\n\nâ†’ See `references/retrospective-templates.md` for additional templates\nâ†’ See `references/root-cause-analysis.md` for 5 Whys methodology\n\n## Mode-Specific Behavior\n\nRetrospective scope and improvement proposals differ by orchestrator mode:\n\n### Greenfield Mode\n\n| Aspect | Behavior |\n|--------|----------|\n| **Scope** | Full system journey analysis |\n| **Approach** | Comprehensive improvement identification |\n| **Patterns** | Free choice of retrospective format |\n| **Deliverables** | Full RETROSPECTIVE.md + improvement proposals |\n| **Validation** | Standard retrospective verification |\n| **Constraints** | Minimal - full learning extraction |\n\n### Brownfield-Polish Mode\n\n| Aspect | Behavior |\n|--------|----------|\n| **Scope** | Gap-filling journey analysis |\n| **Approach** | Extend learning with integration focus |\n| **Patterns** | Should match existing documentation style |\n| **Deliverables** | Delta retrospective with gap focus |\n| **Validation** | Gap-specific learning verified |\n| **Constraints** | Don't restructure existing learnings |\n\n**Polish considerations:**\n- What worked in integrating with existing code\n- Gaps in understanding existing system\n- Reference utilization for brownfield\n- Pattern conformance issues\n\n### Brownfield-Enterprise Mode\n\n| Aspect | Behavior |\n|--------|----------|\n| **Scope** | Change-specific post-mortem only |\n| **Approach** | Surgical compliance-focused analysis |\n| **Patterns** | Must conform exactly to audit requirements |\n| **Deliverables** | Change post-mortem (audit trail) |\n| **Validation** | Full compliance verification |\n| **Constraints** | Requires approval for any improvement proposals |\n\n**Enterprise retrospective constraints:**\n- Focus on process compliance, not improvement\n- Amendments require change board approval\n- Primary goal is audit trail, not optimization\n- Pattern changes are out of scope\n\n**Enterprise retrospective format:**\n```markdown\n# Post-Implementation Review: [CR-12345]\n\n## Compliance Summary\n| Requirement | Met | Evidence |\n|-------------|-----|----------|\n| Change approval | âœ… | CR-12345 |\n| Testing complete | âœ… | Test report |\n| Rollback tested | âœ… | Staging test |\n\n## Observations (Non-Binding)\n- [Observation for future reference]\n```",
  "references": [
    {
      "name": "RETROSPECTIVE.md",
      "path": "references/RETROSPECTIVE.md",
      "content": "# RETROSPECTIVE.md Template\n\n## Retrospective: {{system-name}}\n\n**Domain:** {{domain}}\n**Date:** {{date}}\n**Duration:** {{hours}}h\n**Agent:** {{agent}}\n\n---\n\n## Summary\n\n| Metric | Value |\n|--------|-------|\n| Planned Duration | {{h}}h |\n| Actual Duration | {{h}}h |\n| Variance | {{percent}}% |\n| Skills Used | {{count}} |\n| Blockers Hit | {{count}} |\n\n---\n\n## What Went Well\n\n1. **{{category}}:** {{description}}\n\n2. **{{category}}:** {{description}}\n\n3. **{{category}}:** {{description}}\n\n---\n\n## What Could Be Improved\n\n1. **{{category}}:** {{description}}\n   - Impact: {{Low/Medium/High}}\n   - Root Cause: {{analysis}}\n\n2. **{{category}}:** {{description}}\n   - Impact: {{Low/Medium/High}}\n   - Root Cause: {{analysis}}\n\n---\n\n## Root Cause Analysis\n\n### Issue: {{issue-name}}\n\n**5 Whys:**\n1. Why did this happen? {{answer}}\n2. Why? {{answer}}\n3. Why? {{answer}}\n4. Why? {{answer}}\n5. Why? {{root-cause}}\n\n**Action:** {{proposed-action}}\n\n---\n\n## Skill Amendments Proposed\n\n| Skill | Type | Description | Priority |\n|-------|------|-------------|----------|\n| {{skill}} | Addition/Clarification/Correction | {{description}} | High/Med/Low |\n\n---\n\n## Calibration Adjustments\n\n| Factor | Current | Proposed | Reason |\n|--------|---------|----------|--------|\n| Global multiplier | {{x}} | {{x}} | {{reason}} |\n| {{skill}} | {{x}} | {{x}} | {{reason}} |\n\n---\n\n## Action Items\n\n| Action | Owner | Due |\n|--------|-------|-----|\n| {{action}} | {{owner}} | {{date}} |\n\n---\n\n## Lessons Learned\n\n- {{lesson-1}}\n- {{lesson-2}}\n- {{lesson-3}}\n\n---\n\n*Retrospective completed at {{timestamp}}*\n"
    },
    {
      "name": "amendment-process.md",
      "path": "references/amendment-process.md",
      "content": "# Amendment Process\n\nHow retrospective insights become skill improvements.\n\n---\n\n## Purpose\n\nThe amendment process ensures that lessons learned from retrospectives systematically improve the skills library. Without a formal process, insights remain isolated observations instead of becoming institutional knowledge.\n\n**When to Use This Guide:**\n- After completing a retrospective that identified skill gaps\n- When a skill consistently produces suboptimal results\n- When new patterns emerge that should be codified\n- When external changes (tools, APIs, practices) require skill updates\n\n---\n\n## Amendment Types\n\n| Type | Description | Example | Urgency |\n|------|-------------|---------|---------|\n| **Clarification** | Make existing guidance clearer | Add example to SKILL.md | Low |\n| **Addition** | Add missing guidance | New reference document | Medium |\n| **Correction** | Fix incorrect guidance | Update wrong command | High |\n| **Deprecation** | Mark guidance as outdated | Deprecate old pattern | Medium |\n| **Removal** | Delete obsolete content | Remove dead links | Low |\n| **Restructure** | Reorganize for clarity | Split large reference | Medium |\n\n### Type Selection Guide\n\n```\nIs the current guidance wrong?\n  â””â”€ Yes â†’ CORRECTION (high priority)\n  â””â”€ No â†’ Continue...\n\nIs guidance missing entirely?\n  â””â”€ Yes â†’ ADDITION\n  â””â”€ No â†’ Continue...\n\nIs existing guidance unclear?\n  â””â”€ Yes â†’ CLARIFICATION\n  â””â”€ No â†’ Continue...\n\nIs guidance outdated but not wrong?\n  â””â”€ Yes â†’ DEPRECATION\n  â””â”€ No â†’ Probably no amendment needed\n```\n\n---\n\n## Amendment Workflow\n\n### Phase 1: Identification\n\nAmendments are identified through:\n\n1. **Retrospectives** - Primary source\n   ```markdown\n   ## What Didn't Work\n\n   ### 1. Spec was too vague on error handling\n\n   **Root Cause:** spec skill doesn't emphasize error scenarios\n\n   **Proposed Amendment:**\n   - Skill: spec\n   - Type: Addition\n   - Change: Add \"Error Scenarios\" subsection to capability format\n   ```\n\n2. **Journey Analysis** - Pattern detection\n   ```\n   Journey logs show implement skill was applied 3x for same system.\n   Root cause: Unclear definition of \"done\" for capabilities.\n   ```\n\n3. **Verification Failures** - Systematic issues\n   ```\n   skill-verifier consistently flags missing security considerations.\n   Root cause: security-audit skill not triggered at right time.\n   ```\n\n4. **External Feedback** - User reports\n   ```\n   Multiple users report confusion about loop-controller autonomy levels.\n   ```\n\n### Phase 2: Proposal\n\nCreate an Amendment Proposal document:\n\n```markdown\n# Amendment Proposal: AP-2025-001\n\n## Metadata\n\n| Field | Value |\n|-------|-------|\n| ID | AP-2025-001 |\n| Date | 2025-01-17 |\n| Author | agent-001 |\n| Status | Proposed |\n| Priority | High |\n| Skill | spec |\n| Type | Addition |\n\n## Problem Statement\n\nThe spec skill's capability format does not explicitly require error scenarios,\nleading to implementations that lack comprehensive error handling.\n\n## Evidence\n\n1. Retrospective from skills-library-mcp identified this gap\n2. 3 out of 5 recent systems required rework for error handling\n3. Average of 2.3 additional implement iterations per system\n\n## Proposed Change\n\n### Current State\n\n```markdown\n## Capability: [CAP-001] Name\n\n### Description\n[What this capability does]\n\n### Inputs\n[Input parameters]\n\n### Outputs\n[Expected outputs]\n```\n\n### Proposed State\n\n```markdown\n## Capability: [CAP-001] Name\n\n### Description\n[What this capability does]\n\n### Inputs\n[Input parameters]\n\n### Outputs\n[Expected outputs]\n\n### Error Scenarios\n[Required section listing all error conditions and expected handling]\n```\n\n## Impact Assessment\n\n| Dimension | Assessment |\n|-----------|------------|\n| Breaking Change | No - additive only |\n| Affected Skills | spec, implement |\n| Affected Domains | All |\n| Effort to Implement | Low (1 hour) |\n| Risk | Low |\n\n## Implementation Plan\n\n1. Update spec/references/capability-format.md\n2. Update spec/SKILL.md deliverable checklist\n3. Add example to spec/references/18-section-template.md\n4. Update implement skill to check for error scenarios\n\n## Verification\n\nHow we'll know this worked:\n- [ ] Next 3 systems have explicit error scenarios in spec\n- [ ] Reduction in implement rework cycles\n- [ ] skill-verifier passes on error handling checks\n```\n\n### Phase 3: Review\n\nAmendment proposals go through review:\n\n#### Review Criteria\n\n| Criterion | Question | Weight |\n|-----------|----------|--------|\n| Evidence-Based | Is there data supporting this change? | High |\n| Minimal Impact | Is this the smallest change that solves the problem? | Medium |\n| Backward Compatible | Does this break existing usage? | High |\n| Testable | Can we verify the change works? | Medium |\n| Documented | Is the rationale clear? | Medium |\n\n#### Review Process\n\n```\n1. Author submits proposal\n   â†“\n2. Reviewer checks criteria (human or agent)\n   â†“\n3. Decision: APPROVE / REQUEST_CHANGES / REJECT\n   â†“\n4. If approved, proceed to implementation\n```\n\n#### Review Template\n\n```markdown\n## Amendment Review: AP-2025-001\n\n**Reviewer:** [Name]\n**Date:** [Date]\n\n### Criteria Assessment\n\n| Criterion | Pass/Fail | Notes |\n|-----------|-----------|-------|\n| Evidence-Based | PASS | 3 retrospectives cited |\n| Minimal Impact | PASS | Single section addition |\n| Backward Compatible | PASS | Additive change |\n| Testable | PASS | Clear verification criteria |\n| Documented | PASS | Comprehensive proposal |\n\n### Decision\n\n**APPROVED**\n\n### Conditions (if any)\n\n- None\n\n### Notes\n\nGood proposal. Addresses real pain point with minimal disruption.\n```\n\n### Phase 4: Implementation\n\nExecute the approved amendment:\n\n#### Implementation Checklist\n\n```markdown\n## Implementation: AP-2025-001\n\n### Pre-Implementation\n- [ ] Amendment approved\n- [ ] Backup current skill version\n- [ ] Notify affected stakeholders\n\n### Implementation Steps\n- [ ] Step 1: [description]\n- [ ] Step 2: [description]\n- [ ] Step 3: [description]\n\n### Post-Implementation\n- [ ] Run skill-verifier on modified skill\n- [ ] Update VERSION.json\n- [ ] Update CHANGELOG.md\n- [ ] Commit with amendment ID in message\n```\n\n#### Commit Message Format\n\n```\n[amendment] AP-2025-001: Add error scenarios to capability format\n\n- Added Error Scenarios section to capability format reference\n- Updated spec SKILL.md deliverable checklist\n- Added example in 18-section-template.md\n\nAddresses: RETRO-skills-library-mcp-2025-01-17\n\nCo-Authored-By: Claude <noreply@anthropic.com>\n```\n\n### Phase 5: Verification\n\nConfirm the amendment achieved its goal:\n\n```markdown\n## Verification: AP-2025-001\n\n### Immediate Verification\n- [ ] Modified files pass linting\n- [ ] skill-verifier passes on affected skill\n- [ ] No regression in existing functionality\n\n### Follow-up Verification (after 3 uses)\n- [ ] Problem described in proposal no longer occurs\n- [ ] No unintended side effects\n- [ ] Users report improvement (if applicable)\n\n### Metrics\n\n| Metric | Before | After | Change |\n|--------|--------|-------|--------|\n| Implement rework cycles | 2.3/system | [TBD] | [TBD] |\n| Error handling coverage | 60% | [TBD] | [TBD] |\n```\n\n---\n\n## Amendment Lifecycle\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  IDENTIFIED  â”‚  â† From retrospective, journey, or feedback\nâ””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜\n       â”‚\n       â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   PROPOSED   â”‚  â† Amendment proposal created\nâ””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜\n       â”‚\n       â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  IN REVIEW   â”‚  â† Under evaluation\nâ””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜\n       â”‚\n       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n       â–¼                     â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   APPROVED   â”‚      â”‚   REJECTED   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n       â”‚\n       â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ IMPLEMENTING â”‚  â† Changes being made\nâ””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜\n       â”‚\n       â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  VERIFYING   â”‚  â† Confirming effectiveness\nâ””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜\n       â”‚\n       â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   COMPLETE   â”‚  â† Amendment integrated\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n---\n\n## Amendment Registry\n\nTrack all amendments in `learning/amendments.json`:\n\n```json\n{\n  \"amendments\": [\n    {\n      \"id\": \"AP-2025-001\",\n      \"title\": \"Add error scenarios to capability format\",\n      \"skill\": \"spec\",\n      \"type\": \"addition\",\n      \"status\": \"complete\",\n      \"priority\": \"high\",\n      \"proposedAt\": \"2025-01-17T10:00:00Z\",\n      \"approvedAt\": \"2025-01-17T12:00:00Z\",\n      \"implementedAt\": \"2025-01-17T14:00:00Z\",\n      \"verifiedAt\": \"2025-01-20T10:00:00Z\",\n      \"source\": {\n        \"type\": \"retrospective\",\n        \"id\": \"RETRO-skills-library-mcp-2025-01-17\"\n      },\n      \"files\": [\n        \"spec/references/capability-format.md\",\n        \"spec/SKILL.md\"\n      ]\n    }\n  ],\n  \"statistics\": {\n    \"total\": 15,\n    \"byStatus\": {\n      \"proposed\": 2,\n      \"inReview\": 1,\n      \"approved\": 1,\n      \"implementing\": 1,\n      \"verifying\": 2,\n      \"complete\": 8\n    },\n    \"byType\": {\n      \"clarification\": 5,\n      \"addition\": 6,\n      \"correction\": 3,\n      \"deprecation\": 1\n    },\n    \"avgTimeToComplete\": \"3.2 days\"\n  }\n}\n```\n\n---\n\n## Prioritization\n\nWhen multiple amendments are proposed, prioritize using:\n\n### Priority Matrix\n\n| Urgency \\ Impact | High Impact | Low Impact |\n|-----------------|-------------|------------|\n| **High Urgency** | P1 - Do Now | P2 - Do Soon |\n| **Low Urgency** | P3 - Plan | P4 - Backlog |\n\n### Scoring Formula\n\n```\nPriority Score = (Impact Ã— 3) + (Urgency Ã— 2) + Evidence Quality\n\nWhere:\n- Impact: 1-5 (how much improvement expected)\n- Urgency: 1-5 (how soon it's needed)\n- Evidence: 1-5 (how strong the supporting data)\n```\n\n### Priority Queue\n\n```markdown\n## Amendment Priority Queue\n\n| Priority | ID | Title | Score | Status |\n|----------|-----|-------|-------|--------|\n| P1 | AP-2025-003 | Fix security audit trigger | 23 | In Review |\n| P1 | AP-2025-001 | Add error scenarios | 21 | Implementing |\n| P2 | AP-2025-002 | Clarify autonomy levels | 17 | Proposed |\n| P3 | AP-2025-004 | Add MCP examples | 14 | Proposed |\n```\n\n---\n\n## Anti-Patterns\n\n### Things to Avoid\n\n1. **Amendment Without Evidence**\n   - Bad: \"I think we should add X\"\n   - Good: \"Retrospective R-001 identified gap, 3 systems affected\"\n\n2. **Scope Creep**\n   - Bad: \"While we're here, let's also refactor the whole skill\"\n   - Good: \"This amendment addresses one specific issue\"\n\n3. **Breaking Changes Without Migration**\n   - Bad: Rename skill output format without transition period\n   - Good: Support both formats, deprecate old with timeline\n\n4. **Undocumented Changes**\n   - Bad: Edit skill file directly without amendment proposal\n   - Good: All changes traced to approved amendments\n\n5. **Skipping Verification**\n   - Bad: \"It's a small change, no need to verify\"\n   - Good: Every amendment verified after implementation\n\n---\n\n## Integration with Other Skills\n\n### From Retrospective\n\n```\nretrospective â†’ identifies gap â†’ creates amendment proposal\n```\n\n### To Skill-Verifier\n\n```\namendment implemented â†’ skill-verifier validates â†’ confirms fix\n```\n\n### To Journey-Tracer\n\n```\namendment affects skill â†’ journey logs reference amendment ID\n```\n\n### To Calibration-Tracker\n\n```\namendment improves estimates â†’ calibration reflects improvement\n```\n\n---\n\n## Emergency Amendments\n\nFor critical issues requiring immediate fix:\n\n### Emergency Process\n\n1. **Identify** - Document the critical issue\n2. **Hotfix** - Make minimal change to address issue\n3. **Notify** - Alert all affected parties\n4. **Document** - Create amendment proposal post-hoc\n5. **Review** - Retrospective review of emergency process\n\n### Emergency Template\n\n```markdown\n# Emergency Amendment: EA-2025-001\n\n## Critical Issue\n[Description of critical issue]\n\n## Immediate Impact\n[What breaks without this fix]\n\n## Hotfix Applied\n[Minimal change made]\n\n## Notification Sent\n- [ ] Stakeholder 1\n- [ ] Stakeholder 2\n\n## Post-Hoc Proposal\n[Full amendment proposal to follow within 24 hours]\n```\n\n---\n\n## Metrics and Reporting\n\n### Amendment Metrics\n\n| Metric | Description | Target |\n|--------|-------------|--------|\n| Time to Approve | Proposal â†’ Approved | < 48 hours |\n| Time to Implement | Approved â†’ Implemented | < 24 hours |\n| Verification Rate | Amendments verified effective | > 80% |\n| Rejection Rate | Proposals rejected | < 20% |\n\n### Monthly Report Template\n\n```markdown\n## Amendment Report: January 2025\n\n### Summary\n- Amendments Proposed: 8\n- Amendments Completed: 6\n- Amendments Rejected: 1\n- Amendments In Progress: 3\n\n### Completed Amendments\n| ID | Skill | Type | Impact |\n|----|-------|------|--------|\n| AP-2025-001 | spec | addition | Reduced rework by 40% |\n| AP-2025-002 | implement | clarification | Clearer guidance |\n\n### Lessons Learned\n- [Insight 1]\n- [Insight 2]\n\n### Upcoming\n- [Planned amendment 1]\n- [Planned amendment 2]\n```\n\n---\n\n*Use this process to ensure retrospective insights systematically improve skills.*\n"
    },
    {
      "name": "retrospective-templates.md",
      "path": "references/retrospective-templates.md",
      "content": "# Retrospective Templates\n\nTemplates for conducting retrospectives and extracting learning.\n\n---\n\n## RETROSPECTIVE.md Template\n\n```markdown\n# Retrospective: [System/Journey Name]\n\n**Journey:** [Journey name or ID]\n**Date:** [Date of retrospective]\n**Facilitator:** [Who ran it]\n**Participants:** [Who participated]\n\n---\n\n## Summary\n\n| Metric | Value |\n|--------|-------|\n| Estimated Duration | [X hours] |\n| Actual Duration | [Y hours] |\n| Accuracy Ratio | [Z] |\n| Skills Applied | [N] |\n| Verification Pass Rate | [P%] |\n| Reference Utilization | [R%] |\n\n**One-line summary:** [Single sentence describing the journey outcome]\n\n---\n\n## What Worked Well\n\n### 1. [Title] âœ…\n\n**Evidence:**\n- [Specific observation 1]\n- [Specific observation 2]\n\n**Why it worked:**\n- [Root cause of success]\n\n**Keep doing:**\n- [Action to continue]\n\n### 2. [Title] âœ…\n\n[Same format...]\n\n---\n\n## What Didn't Work\n\n### 1. [Title] âŒ\n\n**Evidence:**\n- [Specific observation 1]\n- [Specific observation 2]\n\n**Root Cause Analysis (5 Whys):**\n\n1. Why [problem]?\n   - [Answer 1]\n\n2. Why [answer 1]?\n   - [Answer 2]\n\n3. Why [answer 2]?\n   - [Answer 3]\n\n4. Why [answer 3]?\n   - [Answer 4]\n\n5. Why [answer 4]?\n   - **[Root cause]**\n\n**Impact:** [Low/Medium/High]\n\n**Remediation:**\n- [Action taken or proposed]\n\n### 2. [Title] âŒ\n\n[Same format...]\n\n---\n\n## Root Cause Summary\n\n| Issue | Root Cause | Category |\n|-------|------------|----------|\n| [Issue] | [Root cause] | [Process/Skill/Tool/Data] |\n\n---\n\n## Improvement Proposals\n\n### 1. [Proposal Title] ([Priority])\n\n**Skill:** [Which skill to amend]\n**Change:** [What to change]\n\n**Before:**\n```\n[Current state]\n```\n\n**After:**\n```\n[Proposed state]\n```\n\n**Rationale:** [Why this improves things]\n**Status:** [Proposed/Approved/Implemented]\n\n### 2. [Proposal Title] ([Priority])\n\n[Same format...]\n\n---\n\n## Action Items\n\n### Immediate (This Session)\n\n| Item | Owner | Status |\n|------|-------|--------|\n| [Action] | [Owner] | [Status] |\n\n### Next Journey\n\n| Item | Owner | Status |\n|------|-------|--------|\n| [Action] | [Owner] | Pending |\n\n### Backlog\n\n| Item | Priority | Status |\n|------|----------|--------|\n| [Action] | [High/Medium/Low] | Pending |\n\n---\n\n## Learning Integration\n\n### Exported to Calibration Tracker\n\n```json\n{\n  \"domain\": \"[domain]\",\n  \"records\": [\n    {\n      \"system\": \"[system]\",\n      \"estimated\": { \"effortHours\": [X] },\n      \"actual\": { \"effortHours\": [Y] },\n      \"ratio\": [Z],\n      \"factors\": { ... }\n    }\n  ]\n}\n```\n\n### Pattern Candidates\n\n1. **[Pattern Name]**\n   - Context: [When this applies]\n   - Solution: [What to do]\n   - Evidence: [Where this worked]\n\n### Skill Amendments Queued\n\n| Skill | Amendment | Status |\n|-------|-----------|--------|\n| [skill] | [change] | [Queued/Approved/Done] |\n\n---\n\n## Conclusion\n\n[2-3 sentences summarizing key takeaways and next steps]\n\n**Next Steps:**\n1. [Next step 1]\n2. [Next step 2]\n\n---\n\n*Retrospective complete. Learning integrated.*\n```\n\n---\n\n## 5 Whys Template\n\nFor root cause analysis:\n\n```markdown\n### Root Cause Analysis: [Problem Statement]\n\n**Problem:** [Clear statement of what went wrong]\n\n**5 Whys:**\n\n1. **Why** [problem happened]?\n   â†’ [First-level cause]\n\n2. **Why** [first-level cause]?\n   â†’ [Second-level cause]\n\n3. **Why** [second-level cause]?\n   â†’ [Third-level cause]\n\n4. **Why** [third-level cause]?\n   â†’ [Fourth-level cause]\n\n5. **Why** [fourth-level cause]?\n   â†’ **[ROOT CAUSE]**\n\n**Verification:** Does fixing the root cause prevent the problem?\n- [ ] Yes - proceed with remediation\n- [ ] No - dig deeper or try different path\n\n**Remediation:** [Action to address root cause]\n```\n\n---\n\n## Improvement Proposal Template\n\n```markdown\n## Improvement Proposal: [Title]\n\n**ID:** IMP-[NNN]\n**Date:** [Date]\n**Author:** [Who proposed]\n**Status:** Proposed | Under Review | Approved | Implemented | Rejected\n\n---\n\n### Problem Statement\n\n[What problem does this solve?]\n\n### Proposed Change\n\n**Affected Skill(s):** [list]\n\n**Current State:**\n```\n[How it works now]\n```\n\n**Proposed State:**\n```\n[How it should work]\n```\n\n### Rationale\n\n- [Reason 1]\n- [Reason 2]\n\n### Impact Assessment\n\n| Dimension | Impact |\n|-----------|--------|\n| Frequency of problem | [How often this occurs] |\n| Effort to implement | [Low/Medium/High] |\n| Risk of change | [Low/Medium/High] |\n| Benefit | [Description] |\n\n### Implementation Plan\n\n1. [Step 1]\n2. [Step 2]\n3. [Step 3]\n\n### Verification\n\nHow will we know this worked?\n- [ ] [Verification criterion 1]\n- [ ] [Verification criterion 2]\n\n---\n\n**Review Notes:**\n[Space for reviewer comments]\n\n**Decision:** [Approved/Rejected]\n**Decision Date:** [Date]\n**Implemented:** [Date or N/A]\n```\n\n---\n\n## Quick Retrospective Format\n\nFor smaller journeys or rapid iteration:\n\n```markdown\n# Quick Retro: [System]\n\n**Date:** [Date]\n**Duration:** [Estimated] â†’ [Actual]\n\n## âœ… What Worked\n- [Item 1]\n- [Item 2]\n\n## âŒ What Didn't\n- [Item 1] â†’ Root cause: [cause]\n- [Item 2] â†’ Root cause: [cause]\n\n## ğŸ”§ Actions\n- [ ] [Action 1] - [Owner]\n- [ ] [Action 2] - [Owner]\n\n## ğŸ“Š Metrics\n- Estimate accuracy: [X%]\n- Verification pass rate: [Y%]\n- Reference utilization: [Z%]\n```\n\n---\n\n*Use these templates to ensure consistent, actionable retrospectives.*\n"
    },
    {
      "name": "root-cause-analysis.md",
      "path": "references/root-cause-analysis.md",
      "content": "# Root Cause Analysis\n\nMethods for identifying the true cause of problems.\n\n---\n\n## The 5 Whys Method\n\nThe simplest and most widely used technique. Ask \"why\" repeatedly until you reach a root cause that can be addressed.\n\n### When to Use\n\n- After a failure or partial success\n- When a problem keeps recurring\n- When surface-level fixes haven't worked\n- To understand systemic issues\n\n### How to Apply\n\n1. **State the problem clearly**\n   - Be specific\n   - Use observable evidence\n   - Avoid blame\n\n2. **Ask \"Why?\" and answer**\n   - Answer with facts, not assumptions\n   - If unsure, investigate before continuing\n\n3. **Repeat until root cause found**\n   - Usually 5 iterations, but can be fewer or more\n   - Stop when you reach something you can control/change\n   - Stop when further \"why\" leads to organizational/philosophical issues\n\n4. **Verify the root cause**\n   - Does addressing it prevent the problem?\n   - Is it actionable?\n\n### Example\n\n**Problem:** Architecture review was done late (in COMPLETE stage instead of SCAFFOLD)\n\n1. **Why** was architecture review late?\n   â†’ It wasn't triggered during SCAFFOLD stage\n\n2. **Why** wasn't it triggered?\n   â†’ loop-controller doesn't mandate architecture-review\n\n3. **Why** doesn't loop-controller mandate it?\n   â†’ Architecture-review is marked optional in the skill\n\n4. **Why** is it marked optional?\n   â†’ No clear criteria for when it's required vs optional\n\n5. **Why** aren't there clear criteria?\n   â†’ **Skill was designed assuming human judgment would determine need**\n\n**Root Cause:** Skills designed for human judgment don't work well in agentic execution where explicit criteria are needed.\n\n**Remediation:** Add decision tree for when architecture-review is required.\n\n---\n\n## Common Root Cause Categories\n\n### Process Issues\n- Missing steps in workflow\n- Steps in wrong order\n- Unclear handoffs\n- No verification gates\n\n### Skill Gaps\n- Missing skill for this need\n- Skill incomplete or incorrect\n- Skill assumes context that doesn't exist\n- References not consulted\n\n### Tool/Automation Issues\n- Tool doesn't enforce process\n- Automation has bugs\n- Integration gaps\n- Missing monitoring\n\n### Data/Information Issues\n- Required data not available\n- Data in wrong format\n- Stale or incorrect data\n- No feedback loop\n\n### Organizational Issues\n- Incentives misaligned\n- Communication gaps\n- Resource constraints\n- Unclear ownership\n\n---\n\n## Fishbone Diagram (Ishikawa)\n\nFor complex problems with multiple potential causes.\n\n```\n                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                    â”‚                                         â”‚\n    Process â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                         â”‚\n                    â”‚                                         â”‚\n    Skills â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                Problem                  â”‚\n                    â”‚              Statement                  â”‚\n    Tools â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                         â”‚\n                    â”‚                                         â”‚\n    Data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                         â”‚\n                    â”‚                                         â”‚\n    People â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                         â”‚\n                    â”‚                                         â”‚\n                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### How to Use\n\n1. State problem on the right\n2. Draw main branches for categories\n3. Brainstorm causes in each category\n4. Identify most likely root causes\n5. Verify with evidence\n\n---\n\n## Verification Checklist\n\nBefore accepting a root cause:\n\n- [ ] Is it specific and concrete?\n- [ ] Is it based on evidence, not assumption?\n- [ ] Is it within our control to change?\n- [ ] Does fixing it prevent the problem?\n- [ ] Is it a cause, not a symptom?\n- [ ] Have we gone deep enough?\n\n---\n\n## Anti-Patterns\n\n### Stopping Too Early\n\nâŒ \"We didn't do architecture review because we forgot\"\nâœ… Dig deeper: Why did we forget? What system should have reminded us?\n\n### Blaming People\n\nâŒ \"Engineer didn't follow the process\"\nâœ… Ask: Why didn't they follow it? Was it unclear? Hard to do? Not enforced?\n\n### Accepting Vague Causes\n\nâŒ \"Communication was poor\"\nâœ… Be specific: What communication? Between whom? About what?\n\n### Circular Reasoning\n\nâŒ \"We didn't test because we didn't have time\" â†’ \"We didn't have time because we didn't estimate testing\"\nâœ… Break the loop: Why didn't we estimate testing? Is testing not in our standard process?\n\n---\n\n## When 5 Whys Isn't Enough\n\n### Use These Instead\n\n**For complex systems:** Fishbone diagram + 5 Whys on each branch\n**For recurring problems:** Pattern analysis across multiple incidents\n**For safety-critical:** Fault tree analysis\n**For unknown causes:** Hypothesis testing\n\n### Signs You Need Different Approach\n\n- Multiple independent causes\n- Causes interact in complex ways\n- Root cause is outside your system\n- Problem is emergent, not caused by single thing\n\n---\n\n## Documentation Template\n\n```markdown\n## Root Cause Analysis: [Problem]\n\n**Date:** [Date]\n**Analyst:** [Who]\n**Problem:** [Clear statement]\n\n### Evidence\n- [Evidence 1]\n- [Evidence 2]\n\n### 5 Whys\n\n1. Why [problem]?\n   â†’ [Cause 1]\n\n2. Why [cause 1]?\n   â†’ [Cause 2]\n\n3. Why [cause 2]?\n   â†’ [Cause 3]\n\n4. Why [cause 3]?\n   â†’ [Cause 4]\n\n5. Why [cause 4]?\n   â†’ **[ROOT CAUSE]**\n\n### Verification\n- [ ] Root cause is specific and concrete\n- [ ] Based on evidence\n- [ ] Within our control\n- [ ] Fixing it prevents problem\n- [ ] It's a cause, not symptom\n\n### Remediation\n[What will be done to address root cause]\n\n### Follow-up\n[How we'll verify the fix worked]\n```\n\n---\n\n*Use root cause analysis for any non-trivial failure or gap.*\n"
    }
  ],
  "tags": [
    "learning",
    "improvement",
    "metrics",
    "feedback",
    "core-workflow"
  ],
  "dependsOn": []
}
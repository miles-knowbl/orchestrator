{
  "id": "requirements",
  "name": "requirements",
  "version": "1.0.0",
  "description": "Gather and clarify requirements from vague input. Transforms ambiguous requests into clear, testable requirements documents with explicit scope, acceptance criteria, and identified unknowns. Supports multiple formality levels from quick requirements for small features to full PRDs for major initiatives. Produces artifacts that feed directly into spec, architect, and implementation.",
  "phase": "INIT",
  "category": "core",
  "content": "# Requirements\n\nGather and clarify requirements from vague requests.\n\n## When to Use\n\n- **Vague request** — \"Can you add a way to export data?\"\n- **Complex feature** — Multiple components, unclear scope\n- **Before spec/architecture** — Need to know what before how\n- **Scope disagreement** — Different people have different expectations\n- When you say: \"gather requirements\", \"what exactly are we building?\", \"scope this out\"\n\n## Reference Requirements\n\n**MUST read before applying this skill:**\n\n| Reference | Why Required |\n|-----------|--------------|\n| `clarifying-questions.md` | How to elicit missing requirements |\n| `prd-template.md` | Format for requirements document |\n\n**Read if applicable:**\n\n| Reference | When Needed |\n|-----------|-------------|\n| `acceptance-criteria.md` | When defining done criteria |\n| `ambiguity-detection.md` | When resolving unclear requirements |\n| `edge-case-identification.md` | When finding edge cases |\n\n**Verification:** Ensure all clarifying questions are answered before proceeding.\n\n## Required Deliverables\n\n| Deliverable | Location | Condition |\n|-------------|----------|-----------|\n| `REQUIREMENTS.md` | Project root or domain-memory | Always |\n\n## Core Concept\n\nRequirements gathering answers: **\"What exactly are we building?\"**\n\nGood requirements are:\n- **Unambiguous** — One interpretation, not many\n- **Testable** — Can verify if requirement is met\n- **Complete** — Covers scope, non-scope, and edge cases\n- **Minimal** — No unnecessary constraints on implementation\n\nA requirements doc is NOT:\n- A technical spec (that's `spec`)\n- A design document (that's `architect`)\n- Implementation details (that's `implement`)\n- A wish list (that's a feature request)\n\n## The Requirements Process\n\n```\n┌─────────────────────────────────────────────────────────┐\n│                 REQUIREMENTS PROCESS                    │\n│                                                         │\n│  1. UNDERSTAND THE REQUEST                              │\n│     └─→ What is the user actually trying to do?         │\n│                                                         │\n│  2. IDENTIFY AMBIGUITIES                                │\n│     └─→ What's unclear? What could be interpreted       │\n│         multiple ways?                                  │\n│                                                         │\n│  3. ASK CLARIFYING QUESTIONS                            │\n│     └─→ Resolve ambiguities before specifying           │\n│                                                         │\n│  4. DEFINE SCOPE                                        │\n│     └─→ What's in? What's explicitly out?               │\n│                                                         │\n│  5. WRITE ACCEPTANCE CRITERIA                           │\n│     └─→ How do we know when it's done?                  │\n│                                                         │\n│  6. IDENTIFY EDGE CASES                                 │\n│     └─→ What weird situations need handling?            │\n│                                                         │\n│  7. NOTE UNKNOWNS                                       │\n│     └─→ What can't be determined yet?                   │\n│                                                         │\n│  8. REVIEW AND CONFIRM                                  │\n│     └─→ Does this match what was intended?              │\n└─────────────────────────────────────────────────────────┘\n```\n\n## Requirements Levels\n\n| Level | When to Use | Time | Output |\n|-------|-------------|------|--------|\n| **Quick** | Small feature, low risk | 5-15 min | Inline requirements |\n| **Standard** | Medium feature, some complexity | 30-60 min | Requirements document |\n| **Full PRD** | Major feature, high risk, multiple stakeholders | 2-4 hours | Full PRD |\n\n### Quick Requirements\n\nFor small, well-understood features:\n\n```markdown\n## Quick Requirements: [Feature Name]\n\n**Goal:** [One sentence: what and why]\n\n**Scope:**\n- [What's included]\n- [What's included]\n\n**Not in scope:**\n- [What's explicitly excluded]\n\n**Acceptance Criteria:**\n- [ ] [Testable criterion]\n- [ ] [Testable criterion]\n\n**Edge Cases:**\n- [Edge case]: [How to handle]\n```\n\n### Standard Requirements\n\nFor medium features with some complexity:\n\n```markdown\n## Requirements: [Feature Name]\n\n### Overview\n[2-3 sentences: what we're building and why]\n\n### User Stories\nAs a [user type], I want to [action] so that [benefit].\n\n### Scope\n\n#### In Scope\n- [Capability 1]\n- [Capability 2]\n\n#### Out of Scope\n- [Explicitly excluded 1]\n- [Explicitly excluded 2]\n\n### Acceptance Criteria\n- [ ] [Criterion 1]\n- [ ] [Criterion 2]\n\n### Edge Cases\n| Case | Expected Behavior |\n|------|-------------------|\n| [Case] | [Behavior] |\n\n### Open Questions\n- [Question needing answer]\n\n### Dependencies\n- [What this depends on]\n\n### Success Metrics\n- [How we measure success]\n```\n\n### Full PRD\n\nFor major features—see `references/prd-template.md`.\n\n## Step 1: Understand the Request\n\n### Dig for Intent\n\n| They Say | They Might Mean |\n|----------|-----------------|\n| \"Export data\" | CSV download? API endpoint? Scheduled report? |\n| \"Make it faster\" | Faster load? Faster interaction? Faster processing? |\n| \"Add notifications\" | Email? Push? In-app? All of the above? |\n| \"User management\" | CRUD? Roles? Permissions? Teams? |\n\n### The \"Job to Be Done\" Question\n\n> \"What is the user trying to accomplish, and why?\"\n\nNot \"add an export button\" but \"let users analyze their data in Excel because our built-in reports don't cover their use cases.\"\n\n### Context Questions\n\n- Who is the user? (Role, technical level, frequency of use)\n- What triggers this need? (What happened right before they need this?)\n- What do they do after? (What's the next step in their workflow?)\n- What do they do today? (Current workaround or process)\n- What's the cost of not having this? (Urgency, impact)\n\n→ See `references/requirements-elicitation.md`\n\n## Step 2: Identify Ambiguities\n\n### Ambiguity Types\n\n| Type | Example | Question to Ask |\n|------|---------|-----------------|\n| **Scope** | \"User management\" | \"Which user operations specifically?\" |\n| **Terminology** | \"Report\" | \"What format? What data? Who sees it?\" |\n| **Behavior** | \"Notify the user\" | \"When? How? What content?\" |\n| **Constraints** | \"Should be fast\" | \"What response time is acceptable?\" |\n| **Edge cases** | \"Handle errors\" | \"Which errors? How should each be handled?\" |\n\n### Ambiguity Detection Checklist\n\n```markdown\n- [ ] Vague nouns: \"data\", \"report\", \"notification\", \"settings\"\n- [ ] Vague verbs: \"manage\", \"handle\", \"process\", \"support\"\n- [ ] Vague adjectives: \"fast\", \"secure\", \"user-friendly\", \"robust\"\n- [ ] Implicit scope: What's assumed but not stated?\n- [ ] Missing actors: Who does this? Who sees this?\n- [ ] Missing triggers: When does this happen?\n- [ ] Missing constraints: Size limits? Time limits? Access control?\n```\n\n→ See `references/ambiguity-detection.md`\n\n## Step 3: Ask Clarifying Questions\n\n### Good Questions\n\n| Characteristic | Example |\n|----------------|---------|\n| **Specific** | \"Should CSV export include archived orders?\" |\n| **Bounded** | \"Which of these three options: A, B, or C?\" |\n| **Prioritized** | \"If we can only do one, which is more important?\" |\n| **Scenario-based** | \"What should happen if the user has 10,000 orders?\" |\n\n### Question Batching\n\nDon't ask one question at a time. Batch related questions:\n\n```markdown\n## Questions about Export Feature\n\n### Scope\n1. Which data types can be exported? (Orders only? Customers? Products?)\n2. Should archived/deleted records be included?\n\n### Format\n3. CSV only, or also Excel/PDF?\n4. What columns should be included?\n\n### Access\n5. All users or admin only?\n6. Any rate limits or size limits?\n\n### Delivery\n7. Immediate download or email delivery for large exports?\n```\n\n→ See `references/clarifying-questions.md`\n\n## Step 4: Define Scope\n\n### The Scope Triangle\n\n```\n        MUST HAVE\n           /\\\n          /  \\\n         /    \\\n        /      \\\n       / SHOULD \\\n      /   HAVE   \\\n     /            \\\n    /______________\\\n      COULD HAVE\n\n   (WON'T HAVE is outside the triangle)\n```\n\n### Scope Definition Format\n\n```markdown\n### In Scope (Must Have)\n- [Core capability that defines the feature]\n- [Another essential capability]\n\n### In Scope (Should Have)\n- [Important but not blocking]\n- [Can ship without if needed]\n\n### In Scope (Could Have)\n- [Nice to have]\n- [If time permits]\n\n### Out of Scope (Won't Have)\n- [Explicitly excluded]\n- [Future consideration]\n- [Different feature]\n```\n\n### Scope Negotiation\n\nWhen scope is too large:\n\n1. **Identify the MVP** — What's the smallest useful version?\n2. **Phase the work** — What can be V2, V3?\n3. **Find the 80/20** — What 20% of effort gives 80% of value?\n4. **Question necessity** — Is this actually needed, or assumed?\n\n→ See `references/scope-definition.md`\n\n## Step 5: Write Acceptance Criteria\n\n### The SMART Criteria\n\n| Letter | Meaning | Example |\n|--------|---------|---------|\n| **S**pecific | One thing, clearly stated | \"User can download orders as CSV\" |\n| **M**easurable | Can verify pass/fail | \"Download completes in < 30 seconds\" |\n| **A**chievable | Actually possible | Not \"AI predicts user intent perfectly\" |\n| **R**elevant | Tied to user need | Not \"code has 100% test coverage\" |\n| **T**estable | Can write a test for it | \"CSV contains order_id, date, total columns\" |\n\n### Given-When-Then Format\n\n```gherkin\nGiven [precondition]\nWhen [action]\nThen [expected result]\n```\n\n**Example:**\n```gherkin\nGiven a user with 100 orders\nWhen they click \"Export to CSV\"\nThen a CSV file downloads containing all 100 orders\nAnd the file includes columns: order_id, date, customer, total, status\nAnd the download completes within 30 seconds\n```\n\n### Acceptance Criteria Checklist\n\n```markdown\nFor each criterion:\n- [ ] Is it testable? (Can write automated or manual test)\n- [ ] Is it specific? (One interpretation only)\n- [ ] Is it independent? (Doesn't depend on other criteria)\n- [ ] Is it necessary? (Tied to user need)\n- [ ] Is it achievable? (Actually possible to implement)\n```\n\n→ See `references/acceptance-criteria.md`\n\n## Step 6: Identify Edge Cases\n\n### Edge Case Categories\n\n| Category | Examples |\n|----------|----------|\n| **Empty** | No data, no results, no selection |\n| **One** | Single item (pluralization, layout) |\n| **Many** | Thousands of items (performance, pagination) |\n| **Boundary** | At the limit (max size, max count) |\n| **Invalid** | Wrong format, wrong type, corrupted |\n| **Concurrent** | Multiple users, multiple tabs |\n| **Timing** | Slow network, timeout, retry |\n| **Permissions** | No access, partial access |\n| **State** | Mid-operation, after failure |\n\n### Edge Case Format\n\n```markdown\n| Edge Case | Expected Behavior |\n|-----------|-------------------|\n| User has no orders | Show \"No orders to export\" message |\n| User has 100,000 orders | Queue export, email when ready |\n| Export while another export running | Show \"Export in progress\" message |\n| Network fails during download | Show retry button, preserve progress |\n| User logs out during export | Cancel export, clear partial data |\n```\n\n→ See `references/edge-case-identification.md`\n\n## Step 7: Note Unknowns\n\n### Unknown Types\n\n| Type | Example | Action |\n|------|---------|--------|\n| **Needs research** | \"What's the max CSV size Excel can open?\" | Research before finalizing |\n| **Needs decision** | \"Should archived orders be included?\" | Escalate for decision |\n| **Needs discovery** | \"How do users actually use exports?\" | User research |\n| **Technical unknown** | \"Can we stream large CSV generation?\" | Spike/prototype |\n\n### Documenting Unknowns\n\n```markdown\n### Open Questions\n\n| Question | Impact if Wrong | Owner | Due |\n|----------|-----------------|-------|-----|\n| Max practical export size? | Performance, UX | Engineering | Before dev |\n| Include archived orders? | Scope, data volume | Product | Before spec final |\n| Email or download for large? | Architecture | Engineering | During design |\n```\n\n### Unknowns vs. Assumptions\n\n- **Unknown:** \"We don't know X\" — requires answer\n- **Assumption:** \"We're assuming X\" — may need validation\n\nDocument both:\n```markdown\n### Assumptions\n- Users have < 10,000 orders (based on current data)\n- Export will be used monthly, not daily\n- CSV format is sufficient (no Excel formatting needed)\n```\n\n## Step 8: Review and Confirm\n\n### Self-Review Checklist\n\n```markdown\n- [ ] Goal is clear and tied to user need\n- [ ] Scope is explicit (in and out)\n- [ ] Acceptance criteria are testable\n- [ ] Edge cases are identified and handled\n- [ ] Unknowns are documented\n- [ ] No implementation details (what, not how)\n- [ ] Stakeholders can understand this\n```\n\n### Confirmation Techniques\n\n| Technique | How It Works |\n|-----------|--------------|\n| **Walkthrough** | \"Let me make sure I understand...\" |\n| **Scenarios** | \"So if a user does X, then Y happens?\" |\n| **Counter-examples** | \"This does NOT include Z, correct?\" |\n| **Priority check** | \"If we can only ship one, which is most important?\" |\n\n## Output Format\n\n### Quick Requirements Output\n\n```markdown\n## Quick Requirements: Order Export\n\n**Goal:** Let users download their order history as CSV for analysis in Excel.\n\n**Scope:**\n- Export current user's orders as CSV\n- Include: order_id, date, customer_name, total, status\n- Filter by date range\n\n**Not in scope:**\n- Export other users' orders (admin feature, future)\n- Excel or PDF format (CSV only for V1)\n- Scheduled exports (manual trigger only)\n\n**Acceptance Criteria:**\n- [ ] \"Export CSV\" button visible on Orders page\n- [ ] Clicking downloads CSV with all orders in selected date range\n- [ ] CSV opens correctly in Excel\n- [ ] Export completes in < 30 seconds for up to 10,000 orders\n\n**Edge Cases:**\n- No orders: Show \"No orders to export\" message\n- > 10,000 orders: Show warning, allow anyway (V1), queue for V2\n- Mid-export navigation: Cancel export, no partial file\n```\n\n### Standard Requirements Output\n\nSee `references/requirements-template.md` for full template.\n\n## Relationship to Other Skills\n\n| Skill | Relationship |\n|-------|--------------|\n| `spec` | Requirements feed into spec; spec compiles requirements into implementation-ready specs |\n| `architect` | Requirements define what; architect defines high-level how |\n| `frontend-design` | (Frontend systems) UI requirements feed into DESIGN.md |\n| `implement` | Implementation should trace back to requirements |\n| `code-validation` | Validation checks against requirements criteria |\n| `code-review` | Review verifies requirements are met |\n| `test-generation` | Tests derived from acceptance criteria |\n\n## Key Principles\n\n**What, not how.** Spec defines the problem, not the solution. \"User can export orders\" not \"Add an API endpoint that generates CSV.\"\n\n**Testable over vague.** Every requirement should have a clear pass/fail test. \"Fast\" is vague; \"< 2 second response time\" is testable.\n\n**Explicit over implicit.** State assumptions. Define terms. List what's NOT included. Ambiguity is the enemy.\n\n**User-centric.** Requirements should trace to user needs. \"As a user, I want X so that Y\" forces this connection.\n\n**Living document.** Specs evolve. Update them when requirements change. A stale spec is worse than no spec.\n\n## Mode-Specific Behavior\n\nRequirements gathering scope and approach differ by orchestrator mode:\n\n### Greenfield Mode\n\n| Aspect | Behavior |\n|--------|----------|\n| **Scope** | Full system requirements |\n| **Approach** | Comprehensive requirements elicitation |\n| **Patterns** | Free choice of requirements format |\n| **Deliverables** | Full REQUIREMENTS.md or PRD |\n| **Validation** | Standard requirements review |\n| **Constraints** | Minimal - gather all requirements |\n\n### Brownfield-Polish Mode\n\n| Aspect | Behavior |\n|--------|----------|\n| **Scope** | Gap-specific requirements only |\n| **Approach** | Extend existing requirements context |\n| **Patterns** | Should match existing documentation style |\n| **Deliverables** | Delta requirements document |\n| **Validation** | Gap + integration requirements verified |\n| **Constraints** | Don't restructure existing requirements |\n\n**Polish considerations:**\n```markdown\n## Gap Requirements: [Gap Name]\n\n**Current state:** [What exists]\n**Gap:** [What's missing]\n**Target state:** [What should exist]\n\n**Acceptance criteria:**\n- [ ] Gap is filled\n- [ ] Existing functionality unchanged\n- [ ] Integration points work correctly\n```\n\n### Brownfield-Enterprise Mode\n\n| Aspect | Behavior |\n|--------|----------|\n| **Scope** | Change-specific requirements only |\n| **Approach** | Surgical change specification |\n| **Patterns** | Must conform exactly to change request format |\n| **Deliverables** | Change request specification |\n| **Validation** | Full regression impact assessment |\n| **Constraints** | Requires approval - formal change process |\n\n**Enterprise requirements format:**\n```markdown\n## Change Request: [CR Number]\n\n**Business justification:** [Why this change]\n**Current behavior:** [What happens now]\n**Requested behavior:** [What should happen]\n**Impact scope:** [What's affected]\n\n**Acceptance criteria:**\n- [ ] Change implemented as specified\n- [ ] No regression in existing behavior\n- [ ] Performance within acceptable range\n\n**Risk assessment:**\n- Impact: [High/Medium/Low]\n- Rollback: [Possible/Complex/Impossible]\n```\n\n---\n\n## References\n\n- `references/requirements-elicitation.md`: Getting requirements from stakeholders\n- `references/ambiguity-detection.md`: Finding and resolving unclear requirements\n- `references/clarifying-questions.md`: Asking the right questions\n- `references/scope-definition.md`: Drawing boundaries effectively\n- `references/acceptance-criteria.md`: Writing testable criteria\n- `references/edge-case-identification.md`: Finding corner cases systematically\n- `references/requirements-template.md`: Standard requirements document template\n- `references/prd-template.md`: Full PRD template for major features",
  "references": [
    {
      "name": "acceptance-criteria.md",
      "path": "references/acceptance-criteria.md",
      "content": "# Acceptance Criteria\n\nWriting clear, testable criteria for feature completion.\n\n## Why This Matters\n\nAcceptance criteria are the contract between stakeholders and implementers. They define \"done.\" Vague criteria lead to endless scope debates; clear criteria make completion unambiguous.\n\n## What Good Acceptance Criteria Look Like\n\n### The INVEST Criteria\n\nGood acceptance criteria are:\n\n| Letter | Meaning | Example |\n|--------|---------|---------|\n| **I**ndependent | Can be verified alone | \"User can export CSV\" (not \"User can export after setting preferences\") |\n| **N**egotiable | Details can be discussed | Focus on what, leave room for how |\n| **V**aluable | Delivers user value | \"User can see order history\" not \"Database stores orders\" |\n| **E**stimable | Can estimate effort | Specific enough to scope |\n| **S**mall | Testable in one scenario | Not \"User can manage account\" but specific actions |\n| **T**estable | Clear pass/fail | Can write a test for it |\n\n### Format Options\n\n#### Simple Checklist\n\n```markdown\n**Acceptance Criteria:**\n- [ ] User can click \"Export\" button on Orders page\n- [ ] Export downloads a CSV file to user's device\n- [ ] CSV contains columns: order_id, date, total, status\n- [ ] Export completes within 30 seconds for up to 10,000 orders\n- [ ] Empty state shows \"No orders to export\" message\n```\n\n#### Given-When-Then (Gherkin)\n\n```gherkin\nFeature: Order Export\n\nScenario: Successful export with orders\n  Given a user with 100 orders\n  When they click \"Export CSV\" on the Orders page\n  Then a file named \"orders-{date}.csv\" downloads\n  And the file contains 100 rows plus header\n  And each row has columns: order_id, date, total, status\n\nScenario: Export with no orders\n  Given a user with no orders\n  When they click \"Export CSV\"\n  Then they see message \"No orders to export\"\n  And no file downloads\n\nScenario: Export with many orders\n  Given a user with 15,000 orders\n  When they click \"Export CSV\"\n  Then they see message \"Export started. You'll receive an email when ready.\"\n  And export is queued for background processing\n```\n\n#### Structured Format\n\n```markdown\n### AC-1: Basic Export\n\n**Description:** User can export their orders as CSV\n\n**Preconditions:**\n- User is logged in\n- User has at least one order\n\n**Steps:**\n1. Navigate to Orders page\n2. Click \"Export CSV\" button\n\n**Expected Result:**\n- CSV file downloads immediately\n- Filename: orders-YYYY-MM-DD.csv\n- Contains all user's orders\n\n**Verification:**\n- [ ] Manual test completed\n- [ ] Automated test written\n```\n\n## Writing Good Criteria\n\n### Be Specific About Outcomes\n\n| Vague | Specific |\n|-------|----------|\n| \"File downloads\" | \"File named 'orders-{date}.csv' downloads to browser's download folder\" |\n| \"Shows error\" | \"Shows red banner with message 'Export failed. Please try again.'\" |\n| \"Sends notification\" | \"Sends email to user's registered email within 5 minutes\" |\n\n### Include Boundaries\n\n| Missing Boundary | With Boundary |\n|------------------|---------------|\n| \"User can upload files\" | \"User can upload files up to 10MB\" |\n| \"Page loads quickly\" | \"Page loads in under 2 seconds on 3G connection\" |\n| \"Shows recent orders\" | \"Shows orders from the last 30 days\" |\n\n### Cover the Unhappy Path\n\nFor each happy path, consider:\n- What if input is invalid?\n- What if user lacks permission?\n- What if external service fails?\n- What if data doesn't exist?\n\n```markdown\n### Happy Path\n- [ ] User with orders can export successfully\n\n### Unhappy Paths\n- [ ] User with no orders sees \"No orders to export\" message\n- [ ] User with too many orders (>10K) sees queued message\n- [ ] Network error shows \"Export failed. Please try again.\" with retry button\n- [ ] Unauthorized user sees 403 error (not the export button)\n```\n\n### Specify Timing Requirements\n\n```markdown\n**Performance Criteria:**\n- Export of 1,000 orders completes in < 5 seconds\n- Export of 10,000 orders completes in < 30 seconds\n- Export of > 10,000 orders is queued (not synchronous)\n```\n\n### Include Data Requirements\n\n```markdown\n**CSV Format:**\n| Column | Type | Description |\n|--------|------|-------------|\n| order_id | string | Unique order identifier |\n| date | ISO 8601 | Order creation timestamp |\n| customer_name | string | Customer's full name |\n| total | decimal | Order total in USD, 2 decimal places |\n| status | enum | One of: pending, shipped, delivered, cancelled |\n```\n\n## Common Mistakes\n\n### Mistake 1: Testing Implementation, Not Behavior\n\n```markdown\n❌ Bad: \"API returns JSON with orders array\"\n✅ Good: \"User sees their order history on the Orders page\"\n```\n\n### Mistake 2: Vague Success Criteria\n\n```markdown\n❌ Bad: \"Export works correctly\"\n✅ Good: \"Exported CSV opens in Excel without errors and contains all user orders\"\n```\n\n### Mistake 3: Missing Error Cases\n\n```markdown\n❌ Bad: Only happy path criteria\n✅ Good: Includes criteria for empty state, errors, edge cases\n```\n\n### Mistake 4: Implementation Details\n\n```markdown\n❌ Bad: \"Use pandas to generate CSV with UTF-8 encoding\"\n✅ Good: \"CSV is UTF-8 encoded and opens correctly in Excel\"\n```\n\n### Mistake 5: Untestable Criteria\n\n```markdown\n❌ Bad: \"Export should be user-friendly\"\n✅ Good: \"Export button is visible without scrolling on desktop\"\n```\n\n## Acceptance Criteria Templates\n\n### For UI Features\n\n```markdown\n### [Feature Name]\n\n**User Story:** As a [user type], I want to [action] so that [benefit].\n\n**Entry Criteria:**\n- [ ] [Precondition 1]\n- [ ] [Precondition 2]\n\n**Acceptance Criteria:**\n\n1. **Visibility**\n   - [ ] [What user sees, where]\n\n2. **Interaction**\n   - [ ] [What happens when user does X]\n\n3. **Feedback**\n   - [ ] [What feedback user receives]\n\n4. **Error Handling**\n   - [ ] [What happens on error]\n\n5. **Edge Cases**\n   - [ ] [Edge case handling]\n\n**Exit Criteria:**\n- [ ] All acceptance criteria verified\n- [ ] No critical bugs\n- [ ] Performance within targets\n```\n\n### For API Features\n\n```markdown\n### [Endpoint Name]\n\n**Endpoint:** [METHOD] /path/{param}\n\n**Request:**\n- [ ] Accepts [format]\n- [ ] Requires authentication via [method]\n- [ ] Validates [fields]\n\n**Response (Success):**\n- [ ] Returns [status code]\n- [ ] Body contains [fields]\n- [ ] Response time < [X]ms\n\n**Response (Error):**\n- [ ] Invalid input returns 400 with [format]\n- [ ] Unauthorized returns 401\n- [ ] Not found returns 404\n- [ ] Server error returns 500\n\n**Side Effects:**\n- [ ] [What data changes]\n- [ ] [What notifications sent]\n```\n\n### For Data Features\n\n```markdown\n### [Feature Name]\n\n**Data Input:**\n- [ ] Accepts [format/source]\n- [ ] Validates [rules]\n- [ ] Handles [edge cases]\n\n**Data Processing:**\n- [ ] Transforms [how]\n- [ ] Completes in < [time]\n- [ ] Handles errors by [method]\n\n**Data Output:**\n- [ ] Produces [format]\n- [ ] Contains [fields]\n- [ ] Accessible via [method]\n\n**Data Quality:**\n- [ ] [Validation rules]\n- [ ] [Consistency checks]\n```\n\n## Verification Methods\n\nFor each criterion, specify how it will be verified:\n\n| Method | When to Use |\n|--------|-------------|\n| **Automated test** | Repeatable, critical functionality |\n| **Manual test** | UI/UX, complex scenarios |\n| **Code review** | Implementation details, security |\n| **Performance test** | Load, latency requirements |\n| **User acceptance** | Business logic, workflows |\n\n```markdown\n### Acceptance Criteria Verification\n\n| AC | Description | Verification Method |\n|----|-------------|---------------------|\n| 1 | Export downloads CSV | Automated E2E test |\n| 2 | CSV contains all orders | Automated unit test |\n| 3 | Export < 30s for 10K orders | Performance test |\n| 4 | Error message on failure | Manual test |\n| 5 | Button visible on Orders page | Automated E2E test |\n```\n"
    },
    {
      "name": "ambiguity-detection.md",
      "path": "references/ambiguity-detection.md",
      "content": "# Ambiguity Detection\n\nFinding and resolving unclear requirements.\n\n## Why This Matters\n\nAmbiguous requirements lead to building the wrong thing. Every ambiguity is a potential misunderstanding. Finding them early is cheap; finding them after implementation is expensive.\n\n## Types of Ambiguity\n\n### 1. Lexical Ambiguity\n\n**The same word means different things.**\n\n| Word | Possible Meanings |\n|------|-------------------|\n| \"User\" | End user? Admin? System account? |\n| \"Report\" | PDF document? Dashboard? Email summary? |\n| \"Export\" | Download file? API endpoint? Email delivery? |\n| \"Notification\" | Email? Push? In-app? SMS? |\n| \"Active\" | Currently logged in? Has recent activity? Not deleted? |\n\n**Resolution:** Define terms explicitly in a glossary.\n\n### 2. Syntactic Ambiguity\n\n**Sentence structure allows multiple interpretations.**\n\n| Ambiguous | Interpretation A | Interpretation B |\n|-----------|------------------|------------------|\n| \"Users can edit their own posts and comments\" | Users edit (their own posts) and (their own comments) | Users edit (their own posts) and (all comments) |\n| \"Admin can delete inactive users and orders\" | Admin deletes (inactive users) and (inactive orders) | Admin deletes (inactive users) and (all orders) |\n| \"Show error if file is too large or invalid\" | Show error if (file too large) OR (file invalid) | Show error if file is (too large or invalid) — same meaning actually, but what's \"invalid\"? |\n\n**Resolution:** Rewrite for clarity or break into separate statements.\n\n### 3. Semantic Ambiguity\n\n**Concepts are unclear or subjective.**\n\n| Vague Term | Questions to Clarify |\n|------------|---------------------|\n| \"Fast\" | What response time? Under what conditions? |\n| \"Secure\" | Against what threats? What compliance standards? |\n| \"User-friendly\" | For what users? Compared to what? |\n| \"Scalable\" | To what scale? Users? Data? Requests? |\n| \"Recent\" | Last hour? Day? Week? |\n\n**Resolution:** Replace with specific, measurable criteria.\n\n### 4. Scope Ambiguity\n\n**Unclear what's included or excluded.**\n\n| Statement | Ambiguity |\n|-----------|-----------|\n| \"Support file uploads\" | What file types? What sizes? Where stored? |\n| \"Add search functionality\" | Search what? Full-text? Filters? Autocomplete? |\n| \"Integrate with CRM\" | Which CRM? What data? One-way or two-way? |\n\n**Resolution:** Explicitly list what's in and out of scope.\n\n### 5. Referential Ambiguity\n\n**Unclear what a pronoun or reference refers to.**\n\n| Ambiguous | Problem |\n|-----------|---------|\n| \"When the user saves it, notify them\" | What is \"it\"? Who is \"them\"? |\n| \"This should match the existing behavior\" | What existing behavior specifically? |\n| \"Use the standard format\" | What standard? Whose standard? |\n\n**Resolution:** Replace pronouns with specific nouns.\n\n## Detection Techniques\n\n### The \"Which One?\" Test\n\nFor every noun, ask \"which one specifically?\"\n\n```markdown\nOriginal: \"Users can export their data\"\n\nQuestions:\n- Which users? (All users? Premium users? Admins?)\n- Which data? (All data? Selected data? Their profile?)\n- Export to where? (Download? Email? Cloud storage?)\n- In what format? (CSV? JSON? PDF?)\n```\n\n### The \"How Would You Test This?\" Test\n\nIf you can't write a test, it's ambiguous.\n\n| Requirement | Testable? |\n|-------------|-----------|\n| \"Page should load quickly\" | No — what's \"quickly\"? |\n| \"Page should load in under 2 seconds\" | Yes — can measure |\n| \"System should be secure\" | No — secure against what? |\n| \"Passwords must be hashed with bcrypt\" | Yes — can verify |\n\n### The \"Two People\" Test\n\nWould two people build the same thing from this spec?\n\nIf two developers could interpret a requirement differently and both be \"right,\" it's ambiguous.\n\n### The Checklist Scan\n\nScan requirements for these red flags:\n\n```markdown\n### Vague Nouns\n- [ ] \"data\" — what data specifically?\n- [ ] \"content\" — what type of content?\n- [ ] \"information\" — what information?\n- [ ] \"item\" — what kind of item?\n- [ ] \"record\" — what record?\n- [ ] \"resource\" — what resource?\n\n### Vague Verbs\n- [ ] \"manage\" — what operations: create, read, update, delete?\n- [ ] \"handle\" — what does handling involve?\n- [ ] \"process\" — what processing steps?\n- [ ] \"support\" — to what extent?\n- [ ] \"allow\" — under what conditions?\n\n### Vague Adjectives\n- [ ] \"appropriate\" — according to whom?\n- [ ] \"reasonable\" — by what measure?\n- [ ] \"relevant\" — relevant to what?\n- [ ] \"sufficient\" — how much is enough?\n- [ ] \"significant\" — what threshold?\n\n### Vague Adverbs\n- [ ] \"quickly\" — how fast?\n- [ ] \"easily\" — how easily?\n- [ ] \"frequently\" — how often?\n- [ ] \"automatically\" — triggered by what?\n- [ ] \"optionally\" — who decides?\n\n### Implicit Conditions\n- [ ] Missing error cases\n- [ ] Missing permission checks\n- [ ] Missing edge cases\n- [ ] Missing timing constraints\n- [ ] Missing state dependencies\n```\n\n## Resolution Strategies\n\n### Define in Glossary\n\n```markdown\n## Glossary\n\n**User:** An authenticated person with an account. Does not include\nadmin accounts or system service accounts.\n\n**Active User:** A user who has logged in within the last 30 days.\n\n**Export:** Downloading a file to the user's device. Does not include\nAPI access or email delivery.\n```\n\n### Rewrite for Clarity\n\n| Ambiguous | Clear |\n|-----------|-------|\n| \"Users can manage their posts\" | \"Users can create, edit, and delete their own posts\" |\n| \"Handle errors appropriately\" | \"Display user-friendly error message, log full error to monitoring\" |\n| \"The system should be fast\" | \"API responses complete in under 200ms at p95\" |\n\n### Break Into Specifics\n\n```markdown\nAmbiguous:\n- \"Support file uploads\"\n\nSpecific:\n- Users can upload files up to 10MB\n- Supported formats: JPG, PNG, PDF\n- Files are stored in S3\n- Files are scanned for viruses before storage\n- Maximum 10 files per user\n```\n\n### Provide Examples\n\n```markdown\n\"Valid email format\" means:\n- user@example.com\n- user.name@example.co.uk\n- user+tag@example.com\n- user@example (no TLD)\n- @example.com (no local part)\n- user@.com (empty domain)\n```\n\n### State Assumptions Explicitly\n\n```markdown\n### Assumptions\n- Users have a maximum of 10,000 orders (based on current data)\n- Export will be used monthly, not daily\n- Users have stable internet connections\n- Browser supports modern JavaScript (ES6+)\n\nIf any assumption is wrong, requirements may need revision.\n```\n\n## Ambiguity Checklist\n\nWhen reviewing a spec:\n\n```markdown\n### Ambiguity Review\n\n**Terminology:**\n- [ ] All domain terms defined\n- [ ] No vague nouns (data, content, information)\n- [ ] No vague verbs (manage, handle, process)\n- [ ] No vague adjectives (appropriate, reasonable)\n\n**Scope:**\n- [ ] What's included is explicit\n- [ ] What's excluded is explicit\n- [ ] Edge cases are addressed\n\n**Behavior:**\n- [ ] All user actions have defined outcomes\n- [ ] Error cases are specified\n- [ ] Permissions/access are defined\n\n**Constraints:**\n- [ ] Performance requirements are quantified\n- [ ] Limits are specified (size, count, time)\n- [ ] Dependencies are listed\n\n**Testability:**\n- [ ] Every requirement can be tested\n- [ ] Two people would build the same thing\n```\n"
    },
    {
      "name": "clarifying-questions.md",
      "path": "references/clarifying-questions.md",
      "content": "# Clarifying Questions\n\nAsking the right questions to resolve ambiguity.\n\n## Why This Matters\n\nThe quality of your spec depends on the quality of your questions. Good questions reveal hidden requirements, surface assumptions, and prevent costly misunderstandings.\n\n## Question Categories\n\n### Scope Questions\n\n| Question Pattern | Example |\n|------------------|---------|\n| \"Which [things] specifically?\" | \"Which user types can access this?\" |\n| \"Does this include [edge case]?\" | \"Does this include archived records?\" |\n| \"What about [related thing]?\" | \"What about mobile users?\" |\n| \"Is [capability] in scope?\" | \"Is bulk export in scope?\" |\n\n### Behavior Questions\n\n| Question Pattern | Example |\n|------------------|---------|\n| \"What happens when [condition]?\" | \"What happens when the user has no orders?\" |\n| \"How should [thing] behave?\" | \"How should errors be displayed?\" |\n| \"What triggers [action]?\" | \"What triggers the notification?\" |\n| \"What's the default [value]?\" | \"What's the default date range?\" |\n\n### Constraint Questions\n\n| Question Pattern | Example |\n|------------------|---------|\n| \"What's the maximum [limit]?\" | \"What's the maximum file size?\" |\n| \"What's the expected [volume]?\" | \"What's the expected number of orders?\" |\n| \"What's the required [performance]?\" | \"What's the required response time?\" |\n| \"What [standards] apply?\" | \"What accessibility standards apply?\" |\n\n### Priority Questions\n\n| Question Pattern | Example |\n|------------------|---------|\n| \"If we can only do one, which?\" | \"If we can only do CSV or Excel, which?\" |\n| \"Is [feature] a blocker?\" | \"Is date filtering a blocker for launch?\" |\n| \"What's the MVP?\" | \"What's the minimum viable version?\" |\n| \"What can wait for V2?\" | \"Can column selection wait for V2?\" |\n\n### User Questions\n\n| Question Pattern | Example |\n|------------------|---------|\n| \"Who does this?\" | \"Who initiates the export?\" |\n| \"Who sees the result?\" | \"Who receives the notification?\" |\n| \"What's their goal?\" | \"What do they do with the exported data?\" |\n| \"How often?\" | \"How often do they export?\" |\n\n### Error Questions\n\n| Question Pattern | Example |\n|------------------|---------|\n| \"What if [thing] fails?\" | \"What if the export fails midway?\" |\n| \"What if [thing] is invalid?\" | \"What if the date range is invalid?\" |\n| \"What if [thing] doesn't exist?\" | \"What if the user has no orders?\" |\n| \"What if [thing] times out?\" | \"What if the API times out?\" |\n\n## Question Techniques\n\n### The \"What Would Happen If\" Technique\n\nFor each requirement, ask what would happen in various scenarios:\n\n```markdown\nRequirement: \"Users can export orders\"\n\nWhat would happen if...\n- User has no orders?\n- User has 1 million orders?\n- User exports twice simultaneously?\n- Network disconnects during export?\n- User doesn't have permission?\n- Orders are being modified during export?\n```\n\n### The \"Two Implementations\" Technique\n\nIf two developers could interpret the requirement differently, you need clarity:\n\n```markdown\nRequirement: \"Notify user when export is complete\"\n\nImplementation A: Browser notification\nImplementation B: Email notification\nImplementation C: In-app notification\n\nQuestion: \"Which notification method should we use?\"\n```\n\n### The \"Show Me an Example\" Technique\n\nAsk for concrete examples:\n\n```markdown\n\"Can you show me an example of the export format you expect?\"\n\n\"Can you show me what the notification should look like?\"\n\n\"Can you show me what 'success' looks like for this feature?\"\n```\n\n### The \"Walk Me Through\" Technique\n\nHave stakeholders walk through the entire flow:\n\n```markdown\n\"Walk me through exactly what happens when a user exports their orders, step by step.\"\n\n\"Walk me through what you do today without this feature.\"\n\n\"Walk me through what would happen if something went wrong.\"\n```\n\n## Batching Questions\n\nDon't ask questions one at a time. Batch them by topic:\n\n```markdown\n## Questions about Order Export Feature\n\n### Format & Content\n1. What file format(s) should be supported? (CSV, Excel, both?)\n2. What columns should be included?\n3. Should column headers be included?\n4. What date format for export? (ISO 8601, US format, user preference?)\n\n### Scope\n5. All orders or just the user's orders?\n6. Include archived/deleted orders?\n7. Any date range limits on export?\n\n### Limits & Performance\n8. Maximum number of orders per export?\n9. Maximum file size?\n10. Required response time?\n\n### Access & Permissions\n11. Which user roles can export?\n12. Any rate limiting needed?\n\n### Delivery\n13. Direct download or email for large exports?\n14. File naming convention?\n```\n\n## Avoiding Bad Questions\n\n### Leading Questions\n\n\"Don't you think we should use CSV?\"\n\"What file format would work best for your use case?\"\n\n### Vague Questions\n\n\"What do you need?\"\n\"What specific data fields do you need in the export?\"\n\n### Assumptive Questions\n\n\"When should we send the email notification?\"\n\"How should users be notified when the export is complete?\"\n\n### Yes/No Questions (when open-ended is better)\n\n\"Should errors be shown to users?\"\n\"How should errors be communicated to users?\"\n\n### Multiple Questions in One\n\n\"Should we include all orders or just recent ones, and what format should they be in, and who should have access?\"\nAsk each question separately.\n\n## Question Priority\n\nAsk in this order:\n\n1. **Scope questions first** — Understand boundaries before details\n2. **Happy path questions** — What should happen when things work\n3. **Error path questions** — What happens when things fail\n4. **Edge case questions** — Unusual but possible scenarios\n5. **Nice-to-have questions** — Lower priority features\n\n## When You Don't Get Answers\n\n| Situation | Strategy |\n|-----------|----------|\n| Stakeholder doesn't know | Document as open question, assign owner |\n| Stakeholder can't decide | Offer options with tradeoffs |\n| Stakeholder keeps changing answer | Get written confirmation |\n| Different stakeholders disagree | Escalate for decision |\n| Answer seems wrong | Probe deeper, give examples |\n\n## Question Documentation Template\n\n```markdown\n## Open Questions\n\n| # | Question | Asked To | Date | Status | Answer |\n|---|----------|----------|------|--------|--------|\n| 1 | [Question] | [Name] | [Date] | Open/Answered | [Answer] |\n| 2 | [Question] | [Name] | [Date] | Open/Answered | [Answer] |\n\n## Key Decisions Made\n\n| Decision | Options Considered | Chosen | Rationale | Decided By | Date |\n|----------|-------------------|--------|-----------|------------|------|\n| [Decision] | [Options] | [Choice] | [Why] | [Name] | [Date] |\n```\n"
    },
    {
      "name": "edge-case-identification.md",
      "path": "references/edge-case-identification.md",
      "content": "# Edge Case Identification\n\nFinding corner cases systematically during specification.\n\n## Why This Matters\n\nEdge cases found during spec are cheap to handle. Edge cases found in production are expensive disasters. Systematic identification prevents surprises.\n\n## Edge Case Categories\n\n### Data Edge Cases\n\n| Category | Cases to Consider |\n|----------|-------------------|\n| **Empty** | No data, null, undefined, empty string, empty array |\n| **One** | Single item (affects pluralization, layout, aggregation) |\n| **Many** | Thousands of items (pagination, performance, memory) |\n| **Maximum** | At the limit (max length, max count, max size) |\n| **Over maximum** | Exceeds the limit (rejection, truncation?) |\n| **Invalid** | Wrong type, wrong format, corrupted |\n| **Special characters** | Unicode, emoji, HTML, SQL characters |\n| **Boundary values** | 0, -1, MAX_INT, start/end of range |\n\n### User Edge Cases\n\n| Category | Cases to Consider |\n|----------|-------------------|\n| **No permission** | User can't access feature |\n| **Partial permission** | User can see but not edit |\n| **New user** | No history, no preferences |\n| **Power user** | Extreme usage patterns |\n| **Multiple users** | Concurrent access, shared resources |\n| **Deleted user** | Orphaned data, references |\n\n### State Edge Cases\n\n| Category | Cases to Consider |\n|----------|-------------------|\n| **First time** | Initial state, onboarding |\n| **Mid-operation** | Interrupted workflow |\n| **After failure** | Recovery state |\n| **Stale data** | Cache invalidation |\n| **Concurrent modification** | Two users edit same thing |\n| **Race condition** | Timing-dependent behavior |\n\n### Time Edge Cases\n\n| Category | Cases to Consider |\n|----------|-------------------|\n| **Timezone** | Different timezones, DST transitions |\n| **Date boundaries** | Month end, year end, leap year |\n| **Expiration** | Expired tokens, subscriptions, data |\n| **Timing** | Too fast (debounce), too slow (timeout) |\n| **Clock skew** | Different system times |\n\n### Environment Edge Cases\n\n| Category | Cases to Consider |\n|----------|-------------------|\n| **Offline** | No network connection |\n| **Slow network** | High latency, low bandwidth |\n| **Different devices** | Mobile, tablet, desktop |\n| **Different browsers** | Chrome, Safari, Firefox, Edge |\n| **Accessibility** | Screen readers, keyboard navigation |\n\n### Integration Edge Cases\n\n| Category | Cases to Consider |\n|----------|-------------------|\n| **Service unavailable** | Dependency is down |\n| **Service slow** | Dependency is degraded |\n| **Service returns error** | API error responses |\n| **Service returns unexpected data** | Schema change, malformed response |\n| **Rate limited** | Exceeded API limits |\n\n## Systematic Edge Case Discovery\n\n### Step 1: List All Inputs\n\nFor each input to the feature:\n- What's the valid range?\n- What's empty/null?\n- What's at the boundary?\n- What's invalid?\n- What's malicious?\n\n### Step 2: List All States\n\nFor each state the system can be in:\n- What's the initial state?\n- What transitions are possible?\n- What's an invalid state?\n- What happens during transition?\n\n### Step 3: List All Users\n\nFor each user type:\n- What can they do?\n- What can't they do?\n- What if they try something not allowed?\n- What if they do something unexpected?\n\n### Step 4: List All Integrations\n\nFor each external dependency:\n- What if it's down?\n- What if it's slow?\n- What if it returns an error?\n- What if it returns unexpected data?\n\n### Step 5: Consider Concurrency\n\n- What if two users do this at the same time?\n- What if the same user does this in two tabs?\n- What if this operation runs twice?\n\n## Edge Case Documentation\n\n### Table Format\n\n```markdown\n| Edge Case | Category | Expected Behavior | Priority |\n|-----------|----------|-------------------|----------|\n| User has no orders | Empty data | Show \"No orders\" message | Must handle |\n| Order has no items | Invalid state | Should not be possible (prevent) | Must handle |\n| Export during another export | Concurrent | Show \"Export in progress\" message | Should handle |\n| Date range spans DST | Time | Use UTC consistently | Should handle |\n| 100,000+ orders | Many data | Queue export, email when ready | Must handle |\n```\n\n### Scenario Format\n\n```markdown\n### Edge Case: Export with No Orders\n\n**Scenario:** User clicks \"Export CSV\" but has no orders.\n\n**Current State:** Button is visible regardless of order count.\n\n**Expected Behavior:**\n- Show message: \"You don't have any orders to export.\"\n- Don't generate/download empty file.\n\n**Priority:** Must handle (common case for new users)\n\n**Test Case:**\nGiven a user with zero orders\nWhen they click \"Export CSV\"\nThen they see \"You don't have any orders to export.\"\nAnd no file is downloaded\n```\n\n## Edge Case Prioritization\n\n| Priority | Criteria | Example |\n|----------|----------|---------|\n| **Must handle** | Common scenario, breaks feature if not handled | Empty state |\n| **Should handle** | Less common, poor UX if not handled | Timeout errors |\n| **Could handle** | Rare, acceptable to show generic error | Malformed unicode |\n| **Won't handle** | Extremely rare, out of scope | Solar flare corrupts data |\n\n## Common Missed Edge Cases\n\n### Often Forgotten\n\n1. **Empty state** — First-time users, filtered to nothing\n2. **Permissions** — User can see but not act\n3. **Concurrent access** — Two people editing same thing\n4. **Partial failure** — Some items succeed, some fail\n5. **Retry behavior** — What if user clicks twice?\n6. **Back button** — User navigates back mid-flow\n7. **Timezone** — User in different timezone than server\n8. **Long strings** — Names, addresses, descriptions\n9. **Special characters** — Quotes, ampersands, emoji\n10. **Mobile** — Touch, small screen, orientation\n\n### Questions to Find Missing Cases\n\n```markdown\n- What if this is the first time?\n- What if there's nothing?\n- What if there's too much?\n- What if it takes forever?\n- What if it fails halfway?\n- What if it happens twice?\n- What if someone else does it at the same time?\n- What if the user goes back?\n- What if the user refreshes?\n- What if the user loses connection?\n- What if they're on a phone?\n- What if they're in a different timezone?\n- What if they copy/paste weird characters?\n- What if they're using a screen reader?\n```\n\n## Edge Case Checklist\n\n```markdown\n### Data\n- [ ] Empty (no data)\n- [ ] One item\n- [ ] Many items (pagination boundary)\n- [ ] Maximum allowed\n- [ ] Over maximum\n- [ ] Null/undefined values\n- [ ] Special characters\n\n### User\n- [ ] No permission\n- [ ] New user (no history)\n- [ ] Power user (extreme usage)\n- [ ] Concurrent users\n\n### State\n- [ ] First time\n- [ ] Mid-operation\n- [ ] After failure\n- [ ] Stale data\n\n### Time\n- [ ] Timezone differences\n- [ ] Date boundaries\n- [ ] Expiration\n- [ ] Timeout\n\n### Environment\n- [ ] Offline\n- [ ] Slow connection\n- [ ] Mobile device\n- [ ] Different browsers\n\n### Integration\n- [ ] Service down\n- [ ] Service slow\n- [ ] Service error\n- [ ] Unexpected response\n```\n"
    },
    {
      "name": "prd-template.md",
      "path": "references/prd-template.md",
      "content": "# PRD Template\n\nFull Product Requirements Document for major features.\n\n## When to Use\n\nUse a full PRD for:\n- Major features (> 4 weeks development)\n- Cross-team initiatives\n- Features requiring executive sign-off\n- High-risk or high-visibility projects\n- Features with significant business impact\n\n## Template\n\n```markdown\n# PRD: [Feature Name]\n\n## Document Control\n\n| Field | Value |\n|-------|-------|\n| Author | [Name] |\n| Created | [Date] |\n| Last Updated | [Date] |\n| Version | [1.0] |\n| Status | Draft / In Review / Approved / In Development / Shipped |\n| Approvers | [Names and roles] |\n\n---\n\n## Executive Summary\n\n[2-3 paragraphs maximum. Busy executives will read only this section.]\n\n### The Problem\n[One paragraph describing the problem we're solving]\n\n### The Solution\n[One paragraph describing what we're building]\n\n### Expected Impact\n[Key metrics and business outcomes]\n\n### Timeline & Investment\n[High-level timeline and resource requirements]\n\n---\n\n## Problem Definition\n\n### Problem Statement\n[Detailed description of the problem. Include data if available.]\n\n### Who Has This Problem?\n[User personas affected]\n\n| Persona | Description | Pain Points |\n|---------|-------------|-------------|\n| [Persona 1] | [Description] | [Pain points] |\n| [Persona 2] | [Description] | [Pain points] |\n\n### Current State\n[How do users solve this problem today? What's the workaround?]\n\n### Impact of Not Solving\n[What happens if we don't build this? Business impact, user impact.]\n\n### Evidence\n[Data, research, or user feedback supporting this problem]\n- [Customer quote or data point]\n- [Usage statistics]\n- [Support ticket volume]\n\n---\n\n## Goals & Success Metrics\n\n### Goals\n| Goal | Description | Priority |\n|------|-------------|----------|\n| [Goal 1] | [Description] | P0 |\n| [Goal 2] | [Description] | P1 |\n| [Goal 3] | [Description] | P2 |\n\n### Success Metrics\n\n| Metric | Current | Target | Timeframe |\n|--------|---------|--------|-----------|\n| [Metric 1] | [Baseline] | [Target] | [When] |\n| [Metric 2] | [Baseline] | [Target] | [When] |\n\n### Non-Goals\n[What this project is explicitly NOT trying to achieve]\n- [Non-goal 1]\n- [Non-goal 2]\n\n---\n\n## Solution Overview\n\n### Proposed Solution\n[High-level description of what we're building]\n\n### Key Capabilities\n1. **[Capability 1]**: [Description]\n2. **[Capability 2]**: [Description]\n3. **[Capability 3]**: [Description]\n\n### User Experience\n[How will users interact with this feature? Include flow diagrams or wireframes.]\n\n### Technical Approach\n[High-level technical approach. Not detailed design—that's a separate doc.]\n\n---\n\n## Detailed Requirements\n\n### User Stories\n\n#### Epic: [Epic Name]\n\n**User Story 1:** [Story Title]\nAs a [user type], I want to [action] so that [benefit].\n\n**Acceptance Criteria:**\n- [ ] [Criterion 1]\n- [ ] [Criterion 2]\n\n**Priority:** P0 / P1 / P2\n**Estimated Effort:** [T-shirt size or story points]\n\n---\n\n**User Story 2:** [Story Title]\n[Repeat format]\n\n---\n\n### Functional Requirements\n\n| ID | Requirement | Priority | Acceptance Criteria |\n|----|-------------|----------|---------------------|\n| FR-001 | [Requirement] | P0 | [Criteria] |\n| FR-002 | [Requirement] | P1 | [Criteria] |\n\n### Non-Functional Requirements\n\n| Category | Requirement | Target |\n|----------|-------------|--------|\n| Performance | [Requirement] | [Target] |\n| Security | [Requirement] | [Target] |\n| Scalability | [Requirement] | [Target] |\n| Accessibility | [Requirement] | [Target] |\n| Reliability | [Requirement] | [Target] |\n\n---\n\n## Scope\n\n### In Scope\n| Phase | Capabilities |\n|-------|--------------|\n| MVP | [Capability list] |\n| V1.1 | [Capability list] |\n| Future | [Capability list] |\n\n### Out of Scope\n| Item | Reason | Future Consideration? |\n|------|--------|----------------------|\n| [Item] | [Reason] | Yes / No |\n\n---\n\n## User Experience\n\n### User Flows\n[Diagrams or step-by-step flows for key scenarios]\n\n#### Flow 1: [Flow Name]\n```\n[Start] → [Step 1] → [Step 2] → [Step 3] → [End]\n                         ↓\n                    [Error Path]\n```\n\n### Wireframes / Mockups\n[Links to Figma, screenshots, or embedded images]\n\n### Edge Cases & Error States\n| Scenario | Expected Behavior |\n|----------|-------------------|\n| [Scenario] | [Behavior] |\n\n---\n\n## Technical Considerations\n\n### Architecture Impact\n[How does this affect system architecture? New services? Database changes?]\n\n### Integrations\n| System | Integration Type | Description |\n|--------|------------------|-------------|\n| [System] | [Type] | [Description] |\n\n### Data Requirements\n- New data entities: [List]\n- Data migrations: [Description]\n- Data retention: [Policy]\n\n### Security Considerations\n- Authentication: [Requirements]\n- Authorization: [Requirements]\n- Data privacy: [Requirements]\n\n### Performance Considerations\n- Expected load: [Numbers]\n- Latency requirements: [Targets]\n- Scaling approach: [Description]\n\n---\n\n## Go-to-Market\n\n### Launch Strategy\n| Phase | Description | Date |\n|-------|-------------|------|\n| Internal alpha | [Description] | [Date] |\n| Beta | [Description] | [Date] |\n| GA | [Description] | [Date] |\n\n### Feature Flags\n| Flag | Description | Default |\n|------|-------------|---------|\n| [Flag name] | [What it controls] | [On/Off] |\n\n### Documentation & Training\n- [ ] User documentation\n- [ ] API documentation\n- [ ] Internal training\n- [ ] Support team training\n\n### Communication Plan\n| Audience | Channel | Message | Timing |\n|----------|---------|---------|--------|\n| [Audience] | [Channel] | [Key message] | [When] |\n\n---\n\n## Dependencies & Risks\n\n### Dependencies\n| Dependency | Type | Owner | Status | Impact if Delayed |\n|------------|------|-------|--------|-------------------|\n| [Dependency] | [Tech/Team/External] | [Name] | [Status] | [Impact] |\n\n### Risks\n| Risk | Likelihood | Impact | Mitigation |\n|------|------------|--------|------------|\n| [Risk] | H/M/L | H/M/L | [Mitigation] |\n\n### Open Questions\n| Question | Owner | Due Date | Status |\n|----------|-------|----------|--------|\n| [Question] | [Name] | [Date] | Open/Resolved |\n\n---\n\n## Timeline & Resources\n\n### Milestones\n| Milestone | Description | Target Date | Status |\n|-----------|-------------|-------------|--------|\n| [Milestone] | [Description] | [Date] | [Status] |\n\n### Resource Requirements\n| Role | Allocation | Duration |\n|------|------------|----------|\n| [Role] | [% or FTE] | [Duration] |\n\n### Phase Breakdown\n| Phase | Duration | Key Deliverables |\n|-------|----------|------------------|\n| Discovery | [X weeks] | [Deliverables] |\n| Design | [X weeks] | [Deliverables] |\n| Development | [X weeks] | [Deliverables] |\n| Testing | [X weeks] | [Deliverables] |\n| Launch | [X weeks] | [Deliverables] |\n\n---\n\n## Alternatives Considered\n\n| Alternative | Pros | Cons | Why Not Chosen |\n|-------------|------|------|----------------|\n| [Alternative 1] | [Pros] | [Cons] | [Reason] |\n| [Alternative 2] | [Pros] | [Cons] | [Reason] |\n\n---\n\n## Appendix\n\n### Glossary\n| Term | Definition |\n|------|------------|\n| [Term] | [Definition] |\n\n### References\n- [Link to research]\n- [Link to related docs]\n- [Link to competitive analysis]\n\n### Revision History\n| Version | Date | Author | Changes |\n|---------|------|--------|---------|\n| 1.0 | [Date] | [Name] | Initial version |\n\n### Approvals\n| Role | Name | Date | Status |\n|------|------|------|--------|\n| Product | [Name] | [Date] | Approved/Pending |\n| Engineering | [Name] | [Date] | Approved/Pending |\n| Design | [Name] | [Date] | Approved/Pending |\n```\n\n## Section Guidance\n\n### Executive Summary\n\nThis is the most important section. Many stakeholders will only read this.\n\n**Write it last.** You can't summarize what you haven't written.\n\n**Keep it to one page.** If it takes more, you don't understand the project well enough.\n\n### Problem Definition\n\nSpend time here. If you don't understand the problem deeply, your solution will be shallow.\n\n**Use data.** \"Customers are frustrated\" is weak. \"47 support tickets last month about data export; 23% of churn interviews mention reporting gaps\" is strong.\n\n### Goals & Success Metrics\n\n**Goals are qualitative:** \"Make it easier to analyze data\"\n**Metrics are quantitative:** \"50% of users export data within 30 days\"\n\n**Non-goals are critical.** They prevent scope creep and align stakeholders on what you're NOT doing.\n\n### Solution Overview\n\nStay high-level. This is a PRD, not a design doc. If you're specifying database schemas here, you're going too deep.\n\n### Alternatives Considered\n\nThis section builds confidence that you've thought through options. Even if stakeholders would have chosen the same solution, seeing alternatives shows rigor.\n\n## PRD Review Checklist\n\nBefore circulating for review:\n\n```markdown\n### Completeness\n- [ ] Executive summary stands alone\n- [ ] Problem is clearly defined with evidence\n- [ ] Success metrics are specific and measurable\n- [ ] All requirements have acceptance criteria\n- [ ] Scope boundaries are explicit\n- [ ] Major risks identified with mitigations\n- [ ] Timeline and resources estimated\n\n### Quality\n- [ ] No jargon without definition\n- [ ] No ambiguous requirements\n- [ ] No implementation details in requirements\n- [ ] Alternatives were considered\n- [ ] Stakeholder concerns addressed\n\n### Alignment\n- [ ] Goals align with company priorities\n- [ ] Metrics align with goals\n- [ ] Scope is achievable in timeline\n- [ ] Dependencies are acknowledged by owners\n```\n"
    },
    {
      "name": "requirements-elicitation.md",
      "path": "references/requirements-elicitation.md",
      "content": "# Requirements Elicitation\n\nGetting requirements from stakeholders effectively.\n\n## Why This Matters\n\nUsers often don't know what they want, or can't articulate it clearly. They describe solutions (\"add a button\") instead of problems (\"I need to export data\"). Your job is to dig past the surface request to understand the real need.\n\n## The Elicitation Process\n\n### 1. Listen First\n\nLet stakeholders describe what they want without interruption. Note:\n- What they say explicitly\n- What they assume implicitly\n- Emotional emphasis (what seems most important)\n- Current pain points\n\n### 2. Ask \"Why\" Questions\n\n| Surface Request | \"Why\" Questions |\n|-----------------|-----------------|\n| \"Add an export button\" | Why do you need to export? What do you do with the exported data? |\n| \"Make it faster\" | What's slow specifically? How is slowness affecting you? |\n| \"Add user roles\" | What actions need to be restricted? Who should have access to what? |\n\n### 3. Understand the Workflow\n\nMap the full workflow, not just the requested feature:\n\n```\n[What triggers the need?]\n       ↓\n[What do they do today?]\n       ↓\n[Requested feature]\n       ↓\n[What do they do next?]\n       ↓\n[What's the end goal?]\n```\n\n### 4. Identify Stakeholders\n\nDifferent stakeholders have different needs:\n\n| Stakeholder | Typical Concerns |\n|-------------|------------------|\n| End users | Ease of use, efficiency, reliability |\n| Administrators | Management, configuration, reporting |\n| Executives | Cost, timeline, business impact |\n| Support | Troubleshooting, edge cases |\n| Engineering | Feasibility, maintenance, integration |\n\n## Elicitation Techniques\n\n### The Five Whys\n\nKeep asking \"why\" to get to root cause:\n\n```\n\"I need an export feature\"\nWhy? → \"To analyze order data\"\nWhy? → \"To find trends in customer behavior\"\nWhy? → \"To improve our marketing targeting\"\nWhy? → \"We're losing customers and don't know why\"\n```\n\nReal need: Customer retention insights, not just export.\n\n### Scenario Walkthrough\n\nAsk them to walk through a specific scenario:\n\n> \"Let's say you need to analyze last month's orders. Walk me through exactly what you'd do, step by step.\"\n\nThis reveals:\n- Actual workflow\n- Pain points\n- Assumptions\n- Missing steps\n\n### Show Don't Tell\n\nIf possible, watch them do the task:\n\n> \"Can you show me how you do this today?\"\n\nObservation reveals things people forget to mention.\n\n### Contrast Questions\n\nAsk about differences:\n\n> \"What's different about orders you want to export vs. orders you don't?\"\n> \"When is the current process sufficient? When is it not?\"\n\n### Extreme Scenarios\n\nTest boundaries:\n\n> \"What if you had 1 million orders? Would you still export them all?\"\n> \"What if you needed this every day instead of once a month?\"\n\n### Negative Requirements\n\nAsk what they DON'T want:\n\n> \"What would make this feature useless to you?\"\n> \"What's the worst way we could implement this?\"\n\n## Stakeholder Questions by Role\n\n### For End Users\n\n```markdown\n- What are you trying to accomplish?\n- What do you do today to accomplish this?\n- What's frustrating about the current process?\n- How often do you need to do this?\n- What triggers you to need this?\n- What do you do with the result?\n- What would \"perfect\" look like?\n```\n\n### For Business Stakeholders\n\n```markdown\n- What business problem does this solve?\n- How do you measure success?\n- What's the cost of not having this?\n- Who else is affected?\n- What's the timeline requirement?\n- How does this fit with other priorities?\n- What constraints exist? (budget, resources, legal)\n```\n\n### For Technical Stakeholders\n\n```markdown\n- What systems does this interact with?\n- What data is involved?\n- Are there existing patterns to follow?\n- What constraints exist? (performance, security, compliance)\n- What dependencies are there?\n- What could go wrong?\n```\n\n## Handling Common Challenges\n\n### Stakeholder Describes Solution, Not Problem\n\n**Symptom:** \"Add a button that does X\"\n\n**Response:** \"Help me understand what you're trying to accomplish. What would you do after clicking that button?\"\n\n### Stakeholder Can't Articulate Needs\n\n**Symptom:** \"I don't know, I just need it to be better\"\n\n**Response:** \"Can you show me a specific example where the current process didn't work well?\"\n\n### Conflicting Requirements\n\n**Symptom:** Person A wants X, Person B wants opposite of X\n\n**Response:** Document both perspectives, understand the reasoning, escalate for prioritization decision.\n\n### Scope Creep During Elicitation\n\n**Symptom:** \"Oh, and it should also do Y, and Z, and...\"\n\n**Response:** \"Let me capture all of these. We'll prioritize together after we have the full list.\"\n\n### Assumed Knowledge\n\n**Symptom:** Stakeholder uses jargon or assumes you know context\n\n**Response:** \"I want to make sure I understand this correctly. When you say [term], what exactly does that include?\"\n\n## Documentation During Elicitation\n\n### Capture Raw Notes\n\nDuring conversation:\n```markdown\n## Elicitation Notes: [Date] [Stakeholder]\n\n### Raw Notes\n- [Direct quote or observation]\n- [Direct quote or observation]\n\n### Questions That Came Up\n- [Question needing follow-up]\n\n### Implied Requirements\n- [Things assumed but not stated]\n\n### Contradictions/Confusion\n- [Anything unclear or conflicting]\n```\n\n### Post-Conversation Summary\n\n```markdown\n## Requirements Summary: [Feature]\n\n### Stakeholder\n[Who you talked to, their role]\n\n### Problem Statement\n[What problem they're trying to solve]\n\n### Current Workflow\n[How they do it today]\n\n### Desired Outcome\n[What they want to be able to do]\n\n### Success Criteria\n[How they'll know it's working]\n\n### Constraints\n[Any limitations mentioned]\n\n### Open Questions\n[What still needs clarification]\n```\n\n## When to Stop Eliciting\n\nYou have enough when:\n- [ ] You can explain the problem to someone else\n- [ ] You can describe the workflow end-to-end\n- [ ] You understand success criteria\n- [ ] Major ambiguities are resolved\n- [ ] You know what's in and out of scope\n- [ ] Edge cases are identified\n\nYou need more when:\n- You couldn't write acceptance criteria\n- You're making assumptions about user intent\n- Key scenarios are unclear\n- Stakeholders would disagree with your summary\n"
    },
    {
      "name": "requirements-template.md",
      "path": "references/requirements-template.md",
      "content": "# Requirements Template\n\nStandard template for requirements documents.\n\n## When to Use\n\nUse this template for medium-sized features that need clear documentation but don't require a full PRD. Good for:\n- Features taking 1-4 weeks to build\n- Work with 1-3 developers\n- Moderate complexity\n- Some stakeholder alignment needed\n\n## Template\n\n```markdown\n# Requirements: [Feature Name]\n\n**Author:** [Name]\n**Created:** [Date]\n**Last Updated:** [Date]\n**Status:** Draft | Review | Approved | In Spec | Implemented\n\n---\n\n## Overview\n\n### Problem Statement\n[What problem are we solving? Why does it matter?]\n\n### Goal\n[One sentence: what we're building and why]\n\n### Success Metrics\n[How will we know this is successful?]\n- Metric 1: [target]\n- Metric 2: [target]\n\n---\n\n## User Stories\n\n### Primary User Story\nAs a [user type], I want to [action] so that [benefit].\n\n### Secondary User Stories (if applicable)\n- As a [user type], I want to [action] so that [benefit].\n- As a [user type], I want to [action] so that [benefit].\n\n---\n\n## Scope\n\n### In Scope (Must Have)\n- [ ] [Core capability 1]\n- [ ] [Core capability 2]\n- [ ] [Core capability 3]\n\n### In Scope (Should Have)\n- [ ] [Important but not blocking]\n- [ ] [Can ship without if needed]\n\n### Out of Scope\n- [Explicitly excluded item 1]\n- [Explicitly excluded item 2]\n- [Future consideration]\n\n---\n\n## Requirements\n\n### Functional Requirements\n\n#### FR-1: [Requirement Name]\n**Description:** [What the system should do]\n\n**Acceptance Criteria:**\n- [ ] [Testable criterion]\n- [ ] [Testable criterion]\n\n#### FR-2: [Requirement Name]\n**Description:** [What the system should do]\n\n**Acceptance Criteria:**\n- [ ] [Testable criterion]\n- [ ] [Testable criterion]\n\n### Non-Functional Requirements\n\n#### Performance\n- [Requirement]: [Target]\n- Example: Page load time < 2 seconds on 3G\n\n#### Security\n- [Requirement]: [Target]\n- Example: All data encrypted in transit (TLS 1.2+)\n\n#### Scalability\n- [Requirement]: [Target]\n- Example: Support 10,000 concurrent users\n\n#### Accessibility\n- [Requirement]: [Target]\n- Example: WCAG 2.1 AA compliance\n\n---\n\n## User Experience\n\n### User Flow\n[Describe the step-by-step user journey]\n\n1. User [action]\n2. System [response]\n3. User [action]\n4. System [response]\n\n### Wireframes/Mockups\n[Link to designs or embedded images]\n\n### Error States\n| Error Condition | User Message | System Behavior |\n|-----------------|--------------|-----------------|\n| [Condition] | [Message] | [Behavior] |\n\n---\n\n## Edge Cases\n\n| Scenario | Expected Behavior |\n|----------|-------------------|\n| [Empty state] | [Behavior] |\n| [Error state] | [Behavior] |\n| [Boundary condition] | [Behavior] |\n| [Concurrent access] | [Behavior] |\n\n---\n\n## Dependencies\n\n### Technical Dependencies\n- [System/service this depends on]\n- [API or integration required]\n\n### Team Dependencies\n- [Other team work needed]\n- [Timing dependencies]\n\n### External Dependencies\n- [Third-party services]\n- [Data sources]\n\n---\n\n## Open Questions\n\n| Question | Impact | Owner | Due Date | Resolution |\n|----------|--------|-------|----------|------------|\n| [Question] | [High/Med/Low] | [Name] | [Date] | [Answer when resolved] |\n\n---\n\n## Assumptions\n\n- [Assumption 1]: [Basis for assumption]\n- [Assumption 2]: [Basis for assumption]\n\n---\n\n## Risks\n\n| Risk | Likelihood | Impact | Mitigation |\n|------|------------|--------|------------|\n| [Risk] | [H/M/L] | [H/M/L] | [Mitigation plan] |\n\n---\n\n## Timeline\n\n| Phase | Description | Duration | Target Date |\n|-------|-------------|----------|-------------|\n| Design | [Description] | [X days] | [Date] |\n| Development | [Description] | [X days] | [Date] |\n| Testing | [Description] | [X days] | [Date] |\n| Release | [Description] | [X days] | [Date] |\n\n---\n\n## Glossary\n\n| Term | Definition |\n|------|------------|\n| [Term] | [Definition] |\n\n---\n\n## Appendix\n\n### Related Documents\n- [Link to related spec]\n- [Link to design doc]\n\n### Change Log\n\n| Date | Author | Changes |\n|------|--------|---------|\n| [Date] | [Name] | [What changed] |\n```\n\n## Section Guidance\n\n### Overview\n\nKeep it brief. Someone should understand what this is about in 30 seconds.\n\n**Problem Statement:** The pain point, not the solution. \"Users can't analyze their data in Excel\" not \"We need an export feature.\"\n\n**Goal:** One sentence. What + why. \"Allow users to export orders as CSV so they can analyze data in their preferred tools.\"\n\n**Success Metrics:** How you'll measure success. Be specific: \"50% of active users use export within 30 days\" not \"Users like the feature.\"\n\n### Scope\n\n**Be ruthless about Out of Scope.** Everything not explicitly in scope should be explicitly out of scope. This prevents scope creep.\n\nThe Must/Should/Could prioritization helps when time runs short—you know what to cut.\n\n### Requirements\n\n**Functional requirements** describe what the system does.\n**Non-functional requirements** describe how well it does it.\n\nEach requirement should be testable. If you can't write a test for it, it's not a requirement—it's a wish.\n\n### Edge Cases\n\nThis section often reveals missing requirements. If you can't define the behavior for an edge case, you have an ambiguity.\n\n### Open Questions\n\nDon't pretend you know everything. Document unknowns explicitly. Assign owners and due dates so they get resolved.\n\n### Assumptions\n\nAssumptions are requirements in disguise. If an assumption is wrong, the spec may need to change. Make them explicit so they can be validated.\n\n## Example: Order Export Requirements\n\n```markdown\n# Requirements: Order Export\n\n**Author:** Jane Developer\n**Created:** 2024-01-15\n**Status:** Approved\n\n---\n\n## Overview\n\n### Problem Statement\nUsers need to analyze their order data in Excel for accounting and reporting purposes. Currently, they must manually copy data from the web interface, which is time-consuming and error-prone.\n\n### Goal\nAllow users to export their orders as CSV so they can analyze data in Excel or other tools.\n\n### Success Metrics\n- 30% of active users use export within 60 days\n- Support tickets about \"getting data out\" decrease by 50%\n\n---\n\n## User Stories\n\n### Primary User Story\nAs a shop owner, I want to export my orders as CSV so that I can analyze sales trends in Excel.\n\n---\n\n## Scope\n\n### In Scope (Must Have)\n- [ ] Export all orders as CSV\n- [ ] Filter by date range before export\n- [ ] Include key order fields (id, date, customer, total, status)\n\n### In Scope (Should Have)\n- [ ] Choose which columns to include\n- [ ] Export as Excel format (xlsx)\n\n### Out of Scope\n- Scheduled/recurring exports (future consideration)\n- Export to Google Sheets directly\n- Export of customer or product data (separate features)\n\n---\n\n## Requirements\n\n### FR-1: Basic CSV Export\n\n**Description:** Users can export their orders as a CSV file.\n\n**Acceptance Criteria:**\n- [ ] \"Export CSV\" button visible on Orders page\n- [ ] Clicking button downloads CSV to user's device\n- [ ] CSV contains columns: order_id, date, customer_name, total, status\n- [ ] CSV opens correctly in Excel (proper encoding, formatting)\n- [ ] Export completes in < 30 seconds for up to 10,000 orders\n\n### FR-2: Date Range Filter\n\n**Description:** Users can filter orders by date range before exporting.\n\n**Acceptance Criteria:**\n- [ ] Date range picker appears before export\n- [ ] Default range is last 30 days\n- [ ] Only orders in selected range are exported\n- [ ] Invalid date range shows error message\n\n---\n\n## Edge Cases\n\n| Scenario | Expected Behavior |\n|----------|-------------------|\n| User has no orders | Show \"No orders to export\" message |\n| User has > 10,000 orders | Show warning, queue export, email when ready |\n| Date range has no orders | Show \"No orders in selected range\" message |\n| Export fails mid-download | Show \"Export failed\" with retry button |\n\n---\n\n## Open Questions\n\n| Question | Impact | Owner | Due Date | Resolution |\n|----------|--------|-------|----------|------------|\n| Include archived orders? | Scope | Product | 2024-01-20 | No, exclude archived |\n\n---\n\n## Assumptions\n\n- Users have fewer than 100,000 orders (based on current data)\n- Monthly export frequency is typical use case\n- CSV format is sufficient for most users (Excel format is nice-to-have)\n```\n"
    },
    {
      "name": "scope-definition.md",
      "path": "references/scope-definition.md",
      "content": "# Scope Definition\n\nDrawing clear boundaries around what's included and excluded.\n\n## Why This Matters\n\nScope creep is the most common cause of project failure. Every undefined boundary is an invitation for expansion. Clear scope protects the timeline, the team, and the quality of what you ship.\n\n## The Scope Definition Process\n\n### 1. Start with the Problem\n\nWhat problem are we solving? Scope should serve the problem, not exceed it.\n\n| Problem | Appropriate Scope | Scope Creep |\n|---------|-------------------|-------------|\n| \"Users need to analyze orders in Excel\" | CSV export | PDF export, scheduled reports, analytics dashboard |\n| \"Users forget their passwords\" | Password reset via email | Biometric login, SSO, security questions |\n\n### 2. Define Minimum Viable Scope\n\nWhat's the smallest thing that solves the problem?\n\n```markdown\n### MVP Analysis\n\n**Problem:** Users can't analyze their order data\n\n**Minimum solution:**\n- Export orders as CSV\n- Include basic order data\n\n**Not minimum (save for later):**\n- Multiple export formats\n- Column customization\n- Scheduled exports\n- Data visualization\n```\n\n### 3. Categorize Requirements\n\n| Category | Definition | Example |\n|----------|------------|---------|\n| **Must Have** | Feature doesn't work without this | Export button, CSV generation |\n| **Should Have** | Important but not blocking | Date range filter |\n| **Could Have** | Nice to have if time permits | Column selection |\n| **Won't Have** | Explicitly excluded | PDF export, scheduled exports |\n\n### 4. Document the Boundaries\n\n```markdown\n### In Scope\n- User can export their own orders\n- Export as CSV format\n- Include order ID, date, customer, total, status\n- Filter by date range\n\n### Out of Scope\n- Export other users' orders (admin feature, future)\n- Excel (xlsx) format\n- PDF format\n- Scheduled/recurring exports\n- Export of customers or products (separate features)\n- Real-time data sync\n```\n\n## Scope Negotiation\n\n### When Scope Is Too Large\n\n```markdown\nOriginal scope: \"Full user management\"\n\nQuestions to ask:\n1. What's the most critical capability?\n2. What can users do today? (What's the gap?)\n3. What would make this useful enough to ship?\n4. What can wait until V2?\n\nNegotiated scope:\n- V1: Create users, basic roles (admin/user)\n- V2: Custom roles, permissions\n- V3: Teams, delegation\n```\n\n### The 80/20 Rule\n\n20% of the scope often delivers 80% of the value. Find that 20%.\n\n| Full Scope | 80/20 Scope | Value Captured |\n|------------|-------------|----------------|\n| Export with 20 format options | CSV only | 80% (most users use CSV) |\n| Full RBAC with custom roles | Two roles: admin/user | 90% (covers most cases) |\n| Rich text editor | Plain text + markdown | 70% (most content is simple) |\n\n### Trading Scope for Quality\n\nWhen time is fixed, scope is the lever:\n\n```\nFixed: Timeline, Quality\nVariable: Scope\n\nIf: Scope > Capacity\nThen: Reduce scope (don't reduce quality, don't extend timeline)\n```\n\n## Scope Documentation\n\n### Simple Format\n\n```markdown\n**In Scope:**\n- [Feature 1]\n- [Feature 2]\n- [Feature 3]\n\n**Out of Scope:**\n- [Excluded 1] — Reason: [Why excluded]\n- [Excluded 2] — Reason: [Why excluded]\n```\n\n### Detailed Format\n\n```markdown\n### Scope: [Feature Name]\n\n#### In Scope (Must Have)\n| Capability | Description | Acceptance Criteria |\n|------------|-------------|---------------------|\n| [Cap 1] | [Description] | [Criteria] |\n| [Cap 2] | [Description] | [Criteria] |\n\n#### In Scope (Should Have)\n| Capability | Description | Can Ship Without? |\n|------------|-------------|-------------------|\n| [Cap 3] | [Description] | Yes, but degraded UX |\n\n#### In Scope (Could Have)\n| Capability | Description | Effort | Value |\n|------------|-------------|--------|-------|\n| [Cap 4] | [Description] | Low | Medium |\n\n#### Out of Scope\n| Item | Reason | Future Phase? |\n|------|--------|---------------|\n| [Item 1] | [Reason] | V2 |\n| [Item 2] | [Reason] | Never |\n| [Item 3] | [Reason] | When requested |\n```\n\n## Scope Creep Prevention\n\n### Red Flags\n\n| Warning Sign | Response |\n|--------------|----------|\n| \"While we're at it...\" | \"Let's add that to the backlog for V2\" |\n| \"Can we also...\" | \"Is this blocking the original goal?\" |\n| \"It would be nice to...\" | \"Nice-to-have goes in Could Have\" |\n| \"Users might want...\" | \"Do we have evidence they want it?\" |\n| \"It's just a small change\" | \"Small changes add up. Does this serve the core goal?\" |\n\n### The Scope Change Process\n\nWhen new requirements emerge:\n\n```markdown\n1. Document the request\n2. Assess impact (time, complexity, dependencies)\n3. Compare to original goal (does it serve the same problem?)\n4. Decide: In scope (trade something out) or Out of scope (V2)\n5. Get explicit approval for any scope changes\n6. Update the spec document\n```\n\n### Defending Scope\n\nWhen stakeholders push for more:\n\n| Push | Response |\n|------|----------|\n| \"We need all of this\" | \"What if we can only ship one? Which is most important?\" |\n| \"It's not complete without X\" | \"Is X blocking the core use case?\" |\n| \"Competitors have this\" | \"Is it why users choose competitors?\" |\n| \"It won't take long\" | \"Let's estimate properly. If it's quick, we can add it to V2.\" |\n\n## Phased Scope\n\n### When to Phase\n\nPhase when:\n- Full scope exceeds timeline\n- Uncertainty requires learning\n- Foundational work enables future features\n- Risk needs to be reduced incrementally\n\n### Phase Structure\n\n```markdown\n### Phase 1: Foundation (2 weeks)\nGoal: Basic export works\n- CSV export\n- All orders\n- Fixed columns\n\n### Phase 2: Flexibility (2 weeks)\nGoal: Users can customize export\n- Date range filter\n- Column selection\n- Excel format\n\n### Phase 3: Automation (2 weeks)\nGoal: Users don't have to remember to export\n- Scheduled exports\n- Email delivery\n\n### Future (Not scheduled)\n- Export templates\n- API access\n- Data visualization\n```\n\n## Scope Checklist\n\n```markdown\n### Scope Definition Review\n\n**Completeness:**\n- [ ] All requirements are categorized (Must/Should/Could/Won't)\n- [ ] Out of scope is explicitly listed\n- [ ] Reasons for exclusions are documented\n- [ ] Phase boundaries are clear (if phased)\n\n**Clarity:**\n- [ ] No ambiguous requirements\n- [ ] Each item is specific enough to estimate\n- [ ] Success criteria are defined\n\n**Alignment:**\n- [ ] Scope serves the stated problem\n- [ ] Scope fits the timeline\n- [ ] Stakeholders have approved scope\n- [ ] Team has reviewed scope\n\n**Change Management:**\n- [ ] Process for scope changes is defined\n- [ ] Version history is maintained\n```\n"
    }
  ],
  "tags": [
    "planning",
    "requirements",
    "discovery",
    "elicitation"
  ],
  "dependsOn": []
}